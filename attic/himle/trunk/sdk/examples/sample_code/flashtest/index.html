<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Mem</title>

<script type="text/javascript" src="../../release/latest/js/allinone.js"></script>

<script type="text/javascript" src="./swfobject1-5/swfobject.js"></script>

<script type="text/javascript">

HFlashWindow = HWindowControl.extend({
  constructor: function(_rect, _parentClass, _options) {    
    this.base(_rect, _parentClass, _options);
    
    this.flashElementId = _options.flashElement;
    this.flashElement = null;
    
    this.prevWidth = this.rect.width;
    this.prevHeight = this.rect.height;
    
  },
  
  getWindowViewRect: function() {
    return new HRect(0, 0, this.windowView.rect.width-2, this.windowView.rect.height-6);
  },
  
  doDrag: function(x, y) {
    this.base(x, y);
    
    if (null === this.flashElement) {
      this.flashElement = $(this.flashElementId);
    }
    
    if (this.prevWidth != this.rect.width || this.prevHeight != this.rect.height) {
      var r = this.getWindowViewRect();
      
      this.flashElement.width = r.width;
      this.flashElement.height = r.height;
      
      this.prevWidth = this.rect.width;
      this.prevHeight = this.rect.height;
    }
    
  }
});


var application;


function init() {

  HThemeManager.setThemePath("../../release/latest/themes");
  HThemeManager.setTheme("helmiTheme");
  
  application = new HApplication(20);
  
  var w = new HFlashWindow(new HRect(80, 80, 320, 320), application, {flashElement:"test"});
  var wv = w.windowView;
  
  
  var so = new SWFObject("test.swf", "test",
    wv.rect.width-2, wv.rect.height-6, "6", "#000000");
  
  so.write(elem_get(wv.elemId));
  
  
}

onloader('init();');


</script>

<style type="text/css">
body {
  color: black;
  background-color: darkred;
}
</style>

</head>

<body></body>
</html>

