<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HelmiJukebox</title>
<script type="text/javascript">

IThemePath = './components/';

</script>
<!-- local references -->
<script type="text/javascript" src="/helmi/src/abstraction/class/js/class.js"></script>
<script type="text/javascript" src="/helmi/src/virtualbrowser/early_vb_init/js/early_vb_init.js"></script>
<script type="text/javascript" src="/helmi/src/abstraction/events/js/events.js"></script>
<script type="text/javascript" src="/helmi/src/abstraction/ajax/js/ajax.js"></script>
<script type="text/javascript" src="/helmi/src/virtualbrowser/virtualbrowser/js/virtualbrowser.js"></script>
<script type="text/javascript" src="/helmi/src/abstraction/dom_elements/js/dom_elements.js"></script>
<script type="text/javascript" src="/helmi/src/abstraction/dom_events/js/dom_events.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/sys/js/system.js"></script>
<script type="text/javascript" src="/helmi/src/interface//foundation/app/js/application.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/geom/point/js/point.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/geom/rect/js/rect.js"></script>
<script type="text/javascript" src="/helmi/src/interface/thememanager/js/thememanager.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/markupview/js/markupview.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/view/js/view.js"></script>
<script type="text/javascript" src="/helmi/src/interface/foundation/control/js/control.js"></script>
<!-- window control starts -->
<script type="text/javascript" src="/helmi/src/interface/components/button/js/button.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/window/windowlabel/js/windowlabel.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/window/windowbar/js/windowbar.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/window/windowview/js/windowview.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/window/windowcontrol/js/windowcontrol.js"></script>
<!-- window control ends -->
<script type="text/javascript" src="/helmi/src/interface/components/imagebutton/js/imagebutton.js"></script>
<script type="text/javascript" src="components/iimagebutton/js/iimagebutton.js"></script>

<script type="text/javascript" src="/helmi/src/interface/components/sliders/slider/js/slider.js"></script>

<script type="text/javascript" src="components/itextcontrol/js/itextcontrol.js"></script>

<script type="text/javascript" src="/helmi/src/data/databuffer/js/databuffer.js"></script>

<script type="text/javascript" src="/helmi/src/interface/components/table/tableheadercolumn/js/tableheadercolumn.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/table/tableheaderview/js/tableheaderview.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/table/tablecolumn/js/tablecolumn.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/table/tablecontrol/js/tablecontrol.js"></script>
<script type="text/javascript" src="/helmi/src/interface/components/table/tablecornerview/js/tablecornerview.js"></script>

<script type="text/javascript" src="/helmi/src/data/values/value/js/value.js"></script>
<script type="text/javascript" src="/helmi/src/data/valuemanager/js/valuemanager.js"></script>
<script type="text/javascript" src="/helmi/src/data/transport/js/transporter.js"></script>

<script type="text/javascript" src="/helmi/src/data/values/tablevalue/js/tablevalue.js"></script>

<!-- remote references -->

<script type="text/javascript">
// local example
//HTransportURL="http://10.0.1.46/dotnet_transporter/transporter.aspx";
// remote
HTransportURL="/dotnet_transporter/transporter.aspx";

MyITextControl = ITextControl.extend({
  constructor: function(_rect, _parentClass, _options) {
    this.base(_rect, _parentClass, _options);
    this.setMouseDown(true);
  },
  mouseDown: function(_x, _y, _leftButton) {
    this.base(_x, _y, _leftButton);
    var _x = this.rect.left + this.parent.rect.left;
    var _y = this.rect.top + this.parent.rect.top +
      tableCtrl.options.headerViewHeight;
    var _rowAndColumn = new HPoint(_x, _y);
    var _row = tableCtrl.rowAtPoint(_rowAndColumn);
    common_values.jukeboxsong.set(common_values.tablevalue1.getCell(null,_row,0));
  }
});

HelmiJukebox = HApplication.extend({
  constructor: function() {
    this.base(5);
    this.win = new HWindowControl(new HRect(100,100,730,600), this, {label: 'helmiJukebox',barHeight:75,maxSize:[630,500]});
    this.winBar = this.win.windowBar;
    this.winView = this.win.windowView;
	
    this.buttonClose = new IImageButton(
      new HRect(8,5,22,20),
      this.winBar,{
	  image: "button_close.png"
	  }
    );
    this.buttonMinimize = new IImageButton(
      new HRect(29,5,43,20),
      this.winBar,{
	  image: "button_minimize.png"
	  }
    );
    this.buttonResize = new IImageButton(
      new HRect(50,5,64,20),
      this.winBar,{
	  image: "button_resize.png"
	  }
    );
    
    this.buttonBack = new IImageButton(
      new HRect(24,29,55,61),
      this.winBar,{
	  image: "button_backward.png"
	  }
    );
    this.buttonPlay = new IImageButton(
      new HRect(61,26,98,64),
      this.winBar,{
	  image: "button_play.png",
	  alternateImage: "button_pause.png"
	  }
    );
    this.buttonNext = new IImageButton(
      new HRect(103,29,135,61),
      this.winBar,{
	  image: "button_forward.png"
	  }
    );
    this.buttonVolDown = new IImageButton(
      new HRect(156,39,165,50),
      this.winBar,{
	  image: "button_volume_down.png"
	  }
    );
	
    this.slider = new HSlider(
      new HRect(168,37,246,53),
      this.winBar,
    { value:    80,
      minValue: 0,
      maxValue: 100
    }
    );
    
    this.buttonVolUp = new IImageButton(
      new HRect(250,38,263,51),
      this.winBar,{
	  image: "button_volume_up.png"
	  }
    );
    /*
    this.songName = new IBoxDisplay(
      new HRect(278,21,588,67),
      this.winBar,
      {value:"song name"}
    );*/
    
    this.indicator = new HSlider(
      new HRect(308,52,558,68),
      this.winBar,
    { value:    80,
      minValue: 0,
      maxValue: 100
    }
    );
	
    common_values.jukeboxvolume.bind(this.slider);
    common_values.jukeboxvolume.bind(this.buttonVolDown);
    common_values.jukeboxvolume.bind(this.buttonVolUp);
    
    common_values.jukeboxplay.bind(this.buttonPlay);
    
    /*common_values.jukeboxsongname.bind(this.songName);*/
    
    
    common_values.jukeboxindicator.bind(this.indicator);
    

    this.tableRect = new HRect(this.winView.rect);
    this.tableRect.offsetTo(0,0);
	
    this.table = tableCtrl = new HTableControl(this.tableRect, this.winView,{headerViewHeight:18});
    
    tableCtrl.setData(common_values.tablevalue1);
    
    
    col_0_id = tableCtrl.addColumn(0,50,"Track",MyITextControl);
    tableCtrl.addColumn(1,200,"Name",MyITextControl);
    tableCtrl.addColumn(2,350,"Filename",MyITextControl);
    tableCtrl._calculateDimensions();
    tableCtrl._updateColumns();
	
  },
  die: function() {
    // cleaning values
    /*common_values.jukeboxvolume.unbind(this.slider);
    common_values.jukeboxvolume.unbind(this.buttonVolDown);
    common_values.jukeboxvolume.unbind(this.buttonVolUp);
    common_values.jukeboxplay.unbind(this.buttonPlay);
    
    this.base();*/
    
  },
  onIdle: function() {
    this.base();
    
    /*if (this.winView.rect.width != this.tableRect.width ||
      this.winView.rect.height != this.tableRect.height) {
      window.status = this.winView.rect.width;
      this.tableRect.setWidth(this.winView.rect.width);
      this.tableRect.setHeight(this.winView.rect.height);
      this.table.drawRect();
    }*/
    
    
  }
});

function launch() {
  // local
  HThemeManager.setThemePath("../../src/interface/components/");
  // remote
  //HThemeManager.setThemePath("/v2/src/interface/components/");
  //HThemeManager.setTheme("helmiTheme");
  
  HTransporter.syncDelay = 500;
  //application = new HelmiJukebox();
  
}

onloader('launch();');


</script>


<style type="text/css">
body {
  color: black;
  background-color: #eee;
}
</style>
</head>

<body></body>
</html>

