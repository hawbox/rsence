
var HClass=function(){if(arguments.length){var H4X=arguments[0];if(this==window){HClass.prototype.extend.call(H4X,arguments.callee.prototype);}else{this.extend(H4X);}}};HClass.prototype={extend:function(H1p,H3){var H25=HClass.prototype.extend;if(arguments.length==2){var H0V=this[H1p];if((H0V instanceof Function)&&(H3 instanceof Function)&&H0V.valueOf()!=H3.valueOf()&&/\bbase\b/.test(H3)){var H3D=H3;H3=function(){var H0m=this.base;this.base=H0V;var H6v=H3D.apply(this,arguments);this.base=H0m;return H6v;};H3.valueOf=function(){return H3D;};H3.toString=function(){return String(H3D);};}
return this[H1p]=H3;}else if(H1p){var H0M={toSource:null};var H4Y=["toString","valueOf"];if(HClass.H3E){H4Y.push("constructor");}
for(var i=0;(Hd=H4Y[i]);i++){if(H1p[Hd]!=H0M[Hd]){H25.call(this,Hd,H1p[Hd]);}}
for(var Hd in H1p){if(!H0M[Hd]){H25.call(this,Hd,H1p[Hd]);}}}
return this;},base:function(){}};HClass.extend=function(H0L,H3F){var H25=HClass.prototype.extend;if(!H0L){H0L={};}
HClass.H3E=true;var H0M=new this;H25.call(H0M,H0L);var H2F=H0M.constructor;H0M.constructor=this;delete HClass.H3E;var H1o=function(){if(!HClass.H3E){H2F.apply(this,arguments);}
this.constructor=H1o;};H1o.prototype=H0M;H1o.extend=this.extend;H1o.implement=this.implement;H1o.toString=function(){return String(H2F);}
H25.call(H1o,H3F);var H00=H2F?H1o:H0M;if(H00.init instanceof Function){H00.init();}
return H00;};HClass.implement=function(H26){if(H26 instanceof Function){H26=H26.prototype;}
this.prototype.extend(H26);}
var Base=HClass;ie_htc_path=null;function ie_early_fixes(){var b=navigator.appName;var ua=navigator.userAgent.toLowerCase();var _opera=ua.indexOf("opera")>-1;if(!_opera&&b=="Microsoft Internet Explorer"){var _script=document.scripts[document.scripts.length-1];var _src=_script.src;ie_htc_path=_src.substring(0,_src.lastIndexOf("/")+1);}}
ie_early_fixes();is_safari=navigator.userAgent.toLowerCase().indexOf("safari")>-1;is_ie=!(navigator.userAgent.toLowerCase().indexOf("opera")>-1)&&navigator.appName=="Microsoft Internet Explorer";Event=HClass.extend({constructor:null,element:function(e){return e.target||e.srcElement;},pointerX:function(e){return e.pageX||e.clientX+document.documentElement.scrollLeft;},pointerY:function(e){return e.pageY||e.clientY+document.documentElement.scrollTop;},stop:function(e){if(e.preventDefault){e.preventDefault();e.stopPropagation();}else{e.returnValue=false;e.cancelBubble=true;}},isLeftClick:function(e){if(is_ie||is_safari){return(e.button==1);}else{return(e.button==0);}},observers:false,_observeAndCache:function(Hc,Hd,_function,_useCapture){if(!Event.observers){Event.observers=[];}
if(Hc.addEventListener){this.observers.push([Hc,Hd,_function,_useCapture]);Hc.addEventListener(Hd,_function,_useCapture);}else if(Hc.attachEvent){this.observers.push([Hc,Hd,_function,_useCapture]);Hc.attachEvent("on"+Hd,_function);}},unloadCache:function(){if(!Event.observers){return;}
var i,l=Event.observers.length;for(i=0;i<l;i++){Event.stopObserving.apply(this,Event.observers[0]);}
Event.observers=false;},observe:function(Hc,Hd,_function,_useCapture){if(typeof Hc=="string"){Hc=document.getElementById(Hc);}
_useCapture=_useCapture||false;Event._observeAndCache(Hc,Hd,_function,_useCapture);},stopObserving:function(Hc,Hd,_function,_useCapture){if(typeof Hc=="string"){Hc=document.getElementById(Hc);}
_useCapture=_useCapture||false;if(Hc.removeEventListener){Hc.removeEventListener(Hd,_function,_useCapture);}else if(detachEvent){try{element.detachEvent("on"+name,_function);}catch(e){}}
var i=0;while(i<Event.observers.length){var eo=Event.observers[i];if(eo&&eo[0]==Hc&&eo[1]==Hd&&eo[2]==_function&&eo[3]==_useCapture){Event.observers[i]=null;Event.observers.splice(i,1);}else{i++;}}},KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34});if(is_ie){Event.observe(window,"unload",Event.unloadCache,false);}
is_ie=!(navigator.userAgent.toLowerCase().indexOf("opera")>-1)&&navigator.appName=="Microsoft Internet Explorer";Array.prototype.toQueryString=function(){var i,l=this.length;var _array=[];for(i=0;i<l;i++){_array.push(encodeURIComponent(this[i].key)+"="+
encodeURIComponent(this[i].value));}
return _array.join("&");}
Ajax=HClass.extend({constructor:null,getTransport:function(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else if(is_ie){if(ScriptEngineMajorVersion()>=5){return new ActiveXObject("Msxml2.XMLHTTP");}else{return new ActiveXObject("Microsoft.XMLHTTP");}}else{return false;}}});Ajax.Request=HClass.extend({constructor:function(HC,H1){this.transport=Ajax.getTransport();if(!H1){H1={};}
var HJ=HClass.extend({method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""});HJ=HJ.extend(H1);this.options=new HJ();this.request(HC);},request:function(HC){this.url=HC;if(this.options.method=="get"&&this.options.parameters.length){this.url+=(this.url.indexOf("?")>=0?"&":"?")+this.options.parameters.toQueryString();}
this.transport.open(this.options.method.toUpperCase(),this.url,this.options.asynchronous,this.options.username,this.options.password);var Hg=this;this.transport.onreadystatechange=function(){Hg.onStateChange()};this.setRequestHeaders();var _body=this.options.method=="post"?(this.options.postBody||this.options.parameters.toQueryString()):null;this.transport.send(_body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}},setRequestHeaders:function(){var headers={};if(this.options.method=="post"){headers["Content-type"]=this.options.contentType+
(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){headers["Connection"]="close";}}
var o;for(o in headers){this.transport.setRequestHeader(o,headers[o]);}},onStateChange:function(){var _readyState=this.transport.readyState;if(_readyState>1){this.respondToReadyState(_readyState);}},respondToReadyState:function(_readyState){if(_readyState==4){try{(this.options["on"+(this.success()?"Success":"Failure")]||(function(){}))(this.transport);}catch(e){}}
if(_readyState==4){this.transport.onreadystatechange=function(){};}},success:function(){return!this.transport.status||(this.transport.status>=200&&this.transport.status<300);}});
frameskips=1;var H0s=document;var H12=0;var quot='"';var apos="'";is_ie=(H0s.all&&navigator.userAgent.indexOf("Opera")==-1);is_ie6=(is_ie&&navigator.userAgent.indexOf("MSIE 6")!=-1);is_ie7=(is_ie&&navigator.userAgent.indexOf("MSIE 7")!=-1);is_safari=(navigator.userAgent.indexOf("KHTML")!=-1);var H3H=[];var H4Z=false;onloader=function(H3G){if(H4Z){eval(H3G);}else{H3H.push(H3G);}}
var H6w=null;var H50=function(H27){if(H27){H4Z=true;while(H3H.length!=0){var H6x=H3H.shift();eval(H6x);}}else{H6w=setTimeout('H51()',5);}}
var H51=function(){var H27=false;if(is_ie){var H52="javascript:void(0)";if(location.protocol=="https:"){H52="src=//0";}
H0s.write("<scr"+"ipt id=__ie_onload defer src="+H52+"><\/scr"+"ipt>");var H6y=H0s.getElementById("__ie_onload");H6y.onreadystatechange=function(){if(this.readyState=="complete"){H50(true);}}
return;}
else if((/KHTML|WebKit/i.test(navigator.userAgent))&&(/loaded|complete/.test(H0s.readyState))){H27=true;}
else if(document.body){H27=true;}
H50(H27);}
H51();var H2G;var HO=[];var H1q=[];var H1H=[];var H2H=[];var H3I={};var H3J=false;var H1I=[];var prop_do_csstext=false;elem_bind=function(H53){var Hc=H0s.getElementById(H53);if(!Hc){return false;}
var H6=H3K(Hc);H1H[H6]=[];H1q[H6]=[];return H6;}
elem_add=function(Hc){var H6=H3K(Hc);H1H[H6]=[];H1q[H6]=[];return H6;}
elem_get=function(H6){return HO[H6];}
elem_set=function(H6,H13){HO[H6].innerHTML=H13;}
elem_del=function(H6){var H3L=HO[H6];if(H3L){var H02=H3L.parentNode;if(H02){H02.removeChild(H3L);}}
HO[H6]=null;H1H[H6]=[];H1q[H6]=[];H1I.push(H6);}
elem_replace=function(H6,Hc){var H5c=H1I.indexOf(H6);if(H5c>-1){H1I.splice(H5c,1);}
HO[H6]=Hc;}
elem_append=function(H28,H6){HO[H28].appendChild(HO[H6]);}
elem_mk=function(H28,H0U){if(H0U===undefined){H0U='div';}
var Hc=H0s.createElement(H0U);HO[H28].appendChild(Hc);var H6=H3K(Hc);H1H[H6]=[];H1q[H6]=[];return H6;}
elem_count=function(){var H5b=0;for(var i=0;i<HO.length;i++){if(HO[i]){H5b++;}}
return H5b;}
H3K=function(Hc){var H6;if(H1I.length>0){var H54=H1I[0];H1I.splice(0,1);HO[H54]=Hc;H6=H54;}
else{HO.push(Hc);H6=HO.length-1;}
return H6;}
styl_get=function(H6,Hd){return prop_get(H6,Hd);}
var H29="prop_get = function(H6,Hd,H2I){var HP = H1q[H6];if((HP[Hd]===undefined)||(H2I!==undefined)){";H29+="if((Hd == 'opacity') && (H2I != -1)) {var H2J = prop_get_opacity(H6);} else {";if(!is_ie){H29+="var H2J = H0s.defaultView.getComputedStyle(HO[H6],null).getPropertyValue(Hd);";}else{H29+="var H6E = Hd.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4});var H2J = HO[H6].currentStyle[H6E];";}
H29+="}HP[Hd]=H2J;}return HP[Hd];}";onloader(H29);styl_set=function(H6,Hd,H3){try{prop_set(H6,Hd,H3);return true;}
catch(e){return false;}}
prop_set=function(H6,Hd,H3,H2I){var HP=H1q[H6];var H6z=HP[Hd]!=H3;if(H6z){HP[Hd]=H3;if(H2I){if(Hd=='opacity'){prop_set_opacity(H6,H3);}
else{try{is_ie?(HO[H6].style.setAttribute(Hd.replace(/((-)([a-z])(\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4}),HP[Hd])):(HO[H6].style.setProperty(Hd,HP[Hd],''));}
catch(e){HO[H6].cssText+=';'+Hd+': '+HP[Hd]+';';}}}else{var H6A=H2H;var H2K=H1H[H6];H2K.push(Hd);if(!H3I[H6]){H6A.push(H6);H3I[H6]=true;}}}}
var H0N="var H6B=function(H6){var H2K=H1H[H6];var HP=H1q[H6];var Hc=HO[H6];if(!Hc){return}var H3M=Hc.style;var H6C=H2K.length;"
if(prop_do_csstext){H0N+="var H55=[];"}
H0N+="for(var H56=0;H56<H6C;H56++){var Hd=H2K.shift();";if(prop_do_csstext){H0N+="H55.push(Hd+':'+HP[Hd]);}H3M.cssText += ';'+H55.join(';')+';';";}else{H0N+="if(Hd == 'opacity') { H2J = prop_set_opacity(H6, HP[Hd]); } else {";if(is_ie){H0N+="H3M.setAttribute(Hd.replace(/((-)([a-z])(\\w))/g,function($0,$1,$2,$3,$4){return $3.toUpperCase()+$4}),HP[Hd]);}";}
else{H0N+="H3M.setProperty(Hd,HP[Hd],'');}";}
H0N+="}";}
H0N+="}";eval(H0N);var H57='prop_loop_start(H12)';var H58=1;var H3N=1;var prop_loop_start=function(H12){clearTimeout(H2G);if(H3J){H12*=2;H2G=setTimeout(H57,H12);return;}else{H12=parseInt(frameskips*(H3N/H58),10);if(H12<40){H12=40;}
H3J=true;H2G=setTimeout(H57,H12);}
H3N-=now();var H6D=H2H.length;for(var i=0;i<H6D;i++){var H6=H2H.shift();H3I[H6]=false;H6B(H6);}
H58++;H3N+=now();H3J=false;return;}
var prop_loop_stop=function(){clearTimeout(H2G);}
var now=function(){return new Date().getTime();}
var prop_get_opacity=function(H6){var H0n;var H59=prop_get(H6,'opacity',-1);if(H0n=H59||(H59==0)){return parseFloat(H0n);}
if(H0n=(HO[H6].currentStyle['filter']||'').match(/alpha\(opacity=(.*)\)/)){if(H0n[1]){return parseFloat(H0n[1])/100;}}
return 1.0;}
var prop_set_opacity=function(H6,H3){if(H3==1&&is_ie){HO[H6].style.setAttribute('filter',prop_get(H6,'filter',true).replace(/alpha\([^\)]*\)/gi,''));}else{if(H3<0.00001)H3=0;if(is_ie){HO[H6].style.setAttribute('filter',prop_get(H6,'filter',true).replace(/alpha\([^\)]*\)/gi,'')+'alpha(opacity='+H3*100+')');}
else{HO[H6].style.setProperty('opacity',H3,'');}}}
var prop_get_extra_width=function(H6){var Hf=prop_get_int_value(H6,'padding-left')+
prop_get_int_value(H6,'padding-right')+
prop_get_int_value(H6,'border-left-width')+
prop_get_int_value(H6,'border-right-width');return Hf;}
var prop_get_extra_height=function(H6){var HM=prop_get_int_value(H6,'padding-top')+
prop_get_int_value(H6,'padding-bottom')+
prop_get_int_value(H6,'border-top-width')+
prop_get_int_value(H6,'border-bottom-width');return HM;}
var prop_get_int_value=function(H6,H5a){var H3O=parseInt(prop_get(H6,H5a,true),10);if(isNaN(H3O)){H3O=0;}
return H3O;}
onloader('elem_add(document.body);');onloader('prop_loop_start();');
HEventManager=HClass.extend({events:[false,false,0,0,[],[],[],false,false,false],HStatusButton:0,HStatusButton2:1,HStatusCoordX:2,HStatusCoordY:3,HStatusKeys:4,HStatusDirection:5,HStatusSpeed:6,HStatusAltKey:7,HStatusCtrlKey:8,HStatusShiftKey:9,constructor:null,start:function(){var H0K;if(is_ie){H0K=document;}
else{H0K=window;}
Event.observe(H0K,'mousemove',this.mouseMove);Event.observe(H0K,'mouseup',this.mouseUp);Event.observe(H0K,'mousedown',this.mouseDown);Event.observe(H0K,'keyup',this.keyUp);Event.observe(H0K,'keydown',this.keyDown);Event.observe(H0K,'keypress',this.keyPress);Event.observe(H0K,'contextmenu',this.contextMenu);if(window.addEventListener){window.addEventListener('DOMMouseScroll',this.mouseWheel,false);}
window.onmousewheel=document.onmousewheel=this.mouseWheel;this.focusItems=[];this.eventItems=[];this.focusOptions=[];this.dragItems=[];this.hoverItems=[];this.hoverInterval=100;this.hoverTimer=new Date().getTime();this.topmostDroppable=null;this.H1G=[];this.H3z=true;this.activeControl=null;this.H3B=null;},enablePositionCache:function(){this.H3z=true;},disablePositionCache:function(){this.H3z=false;},invalidatePositionCache:function(Hk){if(Hk){this.H1G[Hk]=null;}
else{this.H1G=[];}},register:function(HI,H4Q){var Hk=HI.elemId;var Hc=elem_get(Hk);if(is_ie){Hc.setAttribute('owner',HI);}
else{Hc.owner=HI;}
this.eventItems[Hk]=true;this.focusItems[Hk]=false;this.focusOptions[Hk]=H4Q;Event.observe(Hc,'mouseover',HI.H24);},unregister:function(HI){if(HI==this.activeControl){this.changeActiveControl(null);}
var Hk=HI.elemId;var Hc=elem_get(Hk);this.eventItems[Hk]=false;this.focusItems[Hk]=false;this.H1G[Hk]=null;try{Event.stopObserving(Hc,'mouseover',HI.H24);}catch(e){window.status=e;}},focus:function(HI){var Hk=HI.elemId;var Hc=elem_get(Hk);if(this.focusItems[Hk]==false&&HI.isDragged==false){Event.stopObserving(Hc,'mouseover',HI.H24);Event.observe(Hc,'mouseout',HI.H3A);this.focusItems[Hk]=true;HI.focus();}},blur:function(HI){var Hk=HI.elemId;var Hc=elem_get(Hk);if(this.focusItems[Hk]==true&&HI.isDragged==false){Event.stopObserving(Hc,'mouseout',HI.H3A);Event.observe(Hc,'mouseover',HI.H24);this.focusItems[Hk]=false;HI.blur();}},mouseMove:function(e){var H5=HEventManager;var H8=Event.pointerX(e);var H9=Event.pointerY(e);var H4R=false;H5.events[H5.HStatusCoordX]=H8;H5.events[H5.HStatusCoordY]=H9;for(var i=0;i<H5.dragItems.length;i++){var Hk=H5.dragItems[i];H5.focusOptions[Hk].owner.doDrag(H8,H9);H5.invalidatePositionCache(Hk);H4R=true;}
if(new Date().getTime()>H5.hoverTimer+H5.hoverInterval){H5.H4V();for(var i=0;i<H5.dragItems.length;i++){var H3y=H5.topmostDroppable;H5.topmostDroppable=null;var Hk=H5.dragItems[i];var H0v=H5.focusOptions[Hk].owner;for(var j=0;j<H5.hoverItems.length;j++){var H2C=H5.hoverItems[j];if(H2C!=Hk&&H5.focusOptions[H2C].owner){var H2D=H5.focusOptions[H2C].owner;if(!H5.topmostDroppable||H2D.zIndex()>H5.topmostDroppable.zIndex()||H2D.parent==H5.topmostDroppable){if(H2D.events.droppable){H5.topmostDroppable=H2D;}}}}
if(H3y!=H5.topmostDroppable){if(H3y){H3y.onHoverEnd(H0v);}
if(H5.topmostDroppable){H5.topmostDroppable.onHoverStart(H0v);}}}
H5.hoverTimer=new Date().getTime();}
if(H4R){Event.stop(e);}},H4V:function(){var H5=HEventManager;H5.hoverItems=[];var x=H5.events[H5.HStatusCoordX];var y=H5.events[H5.HStatusCoordY];for(var HN=0;HN<H5.eventItems.length;HN++){if(!H5.eventItems[HN]||!H5.focusOptions[HN].owner){continue;}
var H4W=H5.focusOptions[HN].owner;var Hc=elem_get(HN);var H1n;if(!H5.H3z||!H5.H1G[HN]){H5.H1G[HN]={H1N:[H4W.pageX(),H4W.pageY()],H4S:helmi.Element.getVisibleSize(Hc)};}
H1n=H5.H1G[HN];if(x>=H1n.H1N[0]&&x<=H1n.H1N[0]+H1n.H4S[0]&&y>=H1n.H1N[1]&&y<=H1n.H1N[1]+H1n.H4S[1]){H5.hoverItems.push(HN);}}},mouseDown:function(e,H03){var H5=HEventManager;H5.H2B(e);var H4T=false;if(H03===undefined){H03=Event.isLeftClick(e);}
if(H03){H5.events[H5.HStatusButton]=true;}else{H5.events[H5.HStatusButton2]=true;}
var H8=H5.events[H5.HStatusCoordX];var H9=H5.events[H5.HStatusCoordY];var HE=null;var H2E=[];var H3C=[];for(var i=0;i<H5.focusItems.length;i++){if(H5.focusItems[i]==true){if(H5.focusOptions[i].owner.enabled){HE=H5.focusOptions[i].owner;}
if((H5.focusOptions[i].draggable==true)&&(H5.dragItems.indexOf(i)==-1)){H2E.push(i);}
else if(H5.focusOptions[i].mouseDown==true){H3C.push(i);}}}
H5.changeActiveControl(HE);for(var i=0;i<H2E.length;i++){H5.dragItems.push(H2E[i]);H5.focusOptions[H2E[i]].owner.startDrag(H8,H9);H4T=true;}
for(var i=0;i<H3C.length;i++){H5.focusOptions[H3C[i]].owner.mouseDown(H8,H9,H03);}
if(H4T){document.body.focus();H5.H6u=document.onselectstart;document.onselectstart=function(){return false;};}
if(H5.hoverItems.length>0){Event.stop(e);}
return true;},changeActiveControl:function(HE){var H5=HEventManager;var H0A=H5.activeControl;if(HE!=H0A){if(H0A){H0A.active=false;H0A._lostActiveStatus(HE);}
H5.activeControl=null;if(HE){HE.active=true;H5.activeControl=HE;HE._gainedActiveStatus(H0A);}}},mouseUp:function(e){var H5=HEventManager;H5.H2B(e);var H4U=false;H5.events[H5.HStatusButton]=false;H5.events[H5.HStatusButton2]=false;var H8=H5.events[H5.HStatusCoordX];var H9=H5.events[H5.HStatusCoordY];for(var i=0;i<H5.dragItems.length;i++){var Hk=H5.dragItems[i];var H0v=H5.focusOptions[Hk].owner;H0v.endDrag(H8,H9);H4U=true;H5.H4V();if(H5.hoverItems.indexOf(Hk)<0){H5.blur(H0v);}
if(H5.topmostDroppable){H5.topmostDroppable.onHoverEnd(H0v);H5.topmostDroppable.onDrop(H0v);H5.topmostDroppable=null;}}
H5.dragItems=[];if(H4U){document.onselectstart=H5.H6u;}
for(var HN=0;HN<H5.focusItems.length;HN++){if(H5.focusItems[HN]==true){if(H5.focusOptions[HN].mouseUp==true){H5.focusOptions[HN].owner.mouseUp(H8,H9,true);}}}
return true;},keyDown:function(e){var H5=HEventManager;H5.H2B(e);var _theKeyCode=e.keyCode;if(H5.activeControl&&H5.focusOptions[H5.activeControl.elemId].keyDown==true){Event.stop(e);if(H5.H3B!=_theKeyCode){H5.activeControl.keyDown(_theKeyCode);}}
var _realTimeArr=H5.events[H5.HStatusKeys];if(_realTimeArr.indexOf(_theKeyCode)==-1){_realTimeArr.push(_theKeyCode);}
H5.H3B=_theKeyCode;},keyUp:function(e){var H5=HEventManager;H5.H2B(e);var _theKeyCode=e.keyCode;H5.H3B=null;if(H5.activeControl&&H5.focusOptions[H5.activeControl.elemId].keyUp==true){H5.activeControl.keyUp(_theKeyCode);}
var _realTimeArr=H5.events[H5.HStatusKeys];var _keyCodeIndex=_realTimeArr.indexOf(_theKeyCode);if(_keyCodeIndex!=-1){_realTimeArr.splice(_keyCodeIndex,1);}},keyPress:function(e){var H5=HEventManager;if(H5.activeControl&&H5.focusOptions[H5.activeControl.elemId].keyDown==true){Event.stop(e);}},mouseWheel:function(e){var H5=HEventManager;var H0a=0;if(!e){e=window.event;}
if(e.wheelDelta){H0a=e.wheelDelta/120;if(window.opera)H0a=-H0a;}else if(e.detail){H0a=-e.detail/3;}
for(var HN=0;HN<H5.focusItems.length;HN++){if(H5.focusItems[HN]==true){if(H5.focusOptions[HN].mouseWheel==true){Event.stop(e);H5.focusOptions[HN].owner.mouseWheel(H0a);}}}},contextMenu:function(e){var H5=HEventManager;H5.mouseDown(e,false);Event.stop(e);},H2B:function(e){var H5=HEventManager;H5.events[H5.HStatusAltKey]=e.altKey;H5.events[H5.HStatusCtrlKey]=e.ctrlKey;H5.events[H5.HStatusShiftKey]=e.shiftKey;}});onloader('HEventManager.start();');HPoint=HClass.extend({constructor:function(){this.type='[HPoint]';var Ha=arguments;if(Ha.length===0){this.H1C();}
else if(Ha.length==2){this.H4v(Ha[0],Ha[1]);}
else if(Ha.length==1){this.H1D(Ha[0]);}
else{throw"Invalid number of arguments.";}},H1C:function(){this.x=null;this.y=null;},H4v:function(x,y){this.x=x;this.y=y;},H1D:function(Hi){this.x=Hi.x;this.y=Hi.y;},set:function(){var Ha=arguments;if(Ha.length===0){this.H1C();}
else if(Ha.length==2){this.H4v(Ha[0],Ha[1]);}
else if(Ha.length==1){this.H1D(Ha[0]);}
else{throw"Invalid number of arguments.";}},constrainTo:function(H0){if(this.x<H0.left){this.x=H0.left;}
if(this.y<H0.top){this.y=H0.top;}
if(this.x>H0.right){this.x=H0.right;}
if(this.y>H0.bottom){this.y=H0.bottom;}},add:function(Hi){Ha=arguments;if((Ha.length==1)&&(Ha[0].type==this.type)){Hi=Ha[0];return new HPoint((this.x+Hi.x),(this.y+Hi.y));}
else if(Ha.length==2){return new HPoint((this.x+Ha[0]),(this.y+Ha[1]));}else{return new HPoint(0,0);}},subtract:function(){Ha=arguments;if((Ha.length==1)&&(Ha[0].type==this.type)){Hi=Ha[0];return new HPoint(this.x-Hi.x,this.y-Hi.y);}
else if(Ha.length==2){return new HPoint(this.x-Ha[0],this.y-Ha[1]);}else{return new HPoint(0,0);}},equals:function(Hi){return(this.x==Hi.x&&this.y==Hi.y);}});HRect=HClass.extend({constructor:function(){this.type='[HRect]';var Ha=arguments;if(Ha.length===0){this.H1C();}else if(Ha.length==4){this.H3o(Ha[0],Ha[1],Ha[2],Ha[3]);}
else if(Ha.length==2){this.H1D(Ha[0],Ha[1]);}
else if(Ha.length==1){this.H2w(Ha[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},H1C:function(){this.top=0;this.left=0;this.bottom=-1;this.right=-1;},H3o:function(Hy,HH,HU,HY){this.top=HH;this.left=Hy;this.bottom=HY;this.right=HU;},H1D:function(H4w,H4x){this.top=H4w.y;this.left=H4w.x;this.bottom=H4x.y;this.right=H4x.x;},H2w:function(H0){this.top=H0.top;this.left=H0.left;this.bottom=H0.bottom;this.right=H0.right;},updateSecondaryValues:function(){this.isValid=(this.right>=this.left&&this.bottom>=this.top);this.leftTop=new HPoint(this.left,this.top);this.leftBottom=new HPoint(this.left,this.bottom);this.rightTop=new HPoint(this.right,this.top);this.rightBottom=new HPoint(this.right,this.bottom);this.width=(this.right-this.left);this.height=(this.bottom-this.top);},set:function(){var Ha=arguments;if(Ha.length===0){this.H1C();}else if(Ha.length==4){this.H3o(Ha[0],Ha[1],Ha[2],Ha[3]);}
else if(Ha.length==2){this.H1D(Ha[0],Ha[1]);}
else if(Ha.length==1){this.H2w(Ha[0]);}
else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},setLeft:function(Hy){this.left=Hy;this.updateSecondaryValues();},setRight:function(HU){this.right=HU;this.updateSecondaryValues();},setTop:function(HH){this.top=HH;this.updateSecondaryValues();},setBottom:function(HY){this.bottom=HY;this.updateSecondaryValues();},setLeftTop:function(Hi){this.left=Hi.x;this.top=Hi.y;this.updateSecondaryValues();},setLeftBottom:function(Hi){this.left=Hi.x;this.bottom=Hi.y;this.updateSecondaryValues();},setRightTop:function(Hi){this.right=Hi.x;this.top=Hi.y;this.updateSecondaryValues();},setRightBottom:function(Hi){this.right=Hi.x;this.bottom=Hi.y;this.updateSecondaryValues();},setWidth:function(Hf){this.right=this.left+Hf;this.updateSecondaryValues();},setHeight:function(HM){this.bottom=this.top+HM;this.updateSecondaryValues();},setSize:function(){var Ha=arguments;if(Ha.length===2){Hf=Ha[0];HM=Ha[1];}
else if(Ha.length===1){Hf=Ha.x;HM=Ha.y;}
this.right=this.left+Hf;this.bottom=this.top+HM;this.updateSecondaryValues();},intersects:function(H0){return(((H0.left>=this.left&&H0.left<=this.right)||(H0.right>=this.left&&H0.right<=this.right))&&((H0.top>=this.top&&H0.top<=this.bottom)||(H0.bottom>=this.top&&H0.bottom<=this.bottom)));},contains:function(Hg){if(Hg instanceof HPoint){return this.H6f(Hg);}
else if(Hg instanceof HRect){return this.H6g(Hg);}
else{throw"Wrong argument type.";}},H6f:function(Hi){return(Hi.x>=this.left&&Hi.x<=this.right&&Hi.y>=this.top&&Hi.y<=this.bottom);},H6g:function(H0){return(H0.left>=this.left&&H0.right<=this.right&&H0.top>=this.top&&H0.bottom<=this.bottom);},insetBy:function(){var Ha=arguments;if(Ha.length===1){this.H6h(Ha[0]);}else if(Ha.length==2){this.H4y(Ha[0],Ha[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},H6h:function(Hi){this.H4y(Hi.x,Hi.y);},H4y:function(x,y){this.left+=x;this.top+=y;this.right-=x;this.bottom-=y;},offsetBy:function(){var Ha=arguments;if(Ha.length===1){this.H6i(Ha[0]);}else if(Ha.length==2){this.H4z(Ha[0],Ha[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},H6i:function(Hi){this.H4z(Hi.x,Hi.y);},H4z:function(x,y){this.left+=x;this.top+=y;this.right+=x;this.bottom+=y;},offsetTo:function(){var Ha=arguments;if(Ha.length===1){this.H6j(Ha[0]);}else if(Ha.length==2){this.H4A(Ha[0],Ha[1]);}else{throw"Invalid number of arguments.";}
this.updateSecondaryValues();},H6j:function(Hi){this.H4A(Hi.x,Hi.y);},H4A:function(x,y){this.right+=x-this.left;this.left=x;this.bottom+=y-this.top;this.top=y;},equals:function(H0){return(this.left==H0.left&&this.top==H0.top&&this.right==H0.right&&this.bottom==H0.bottom);},intersection:function(H0){return new HRect(Math.max(this.left,H0.left),Math.max(this.top,H0.top),Math.min(this.right,H0.right),Math.min(this.bottom,H0.bottom));},union:function(H0){return new HRect(Math.min(this.left,H0.left),Math.min(this.top,H0.top),Math.max(this.right,H0.right),Math.max(this.bottom,H0.bottom));},bind:function(Hg){},unbind:function(Hg){}});HDefaultApplicationInterval=100;HSystem=HClass.extend({constructor:null,type:'[HSystem]',apps:[],appPriorities:[],busyApps:[],appTimers:[],freeAppIds:[],defaultInterval:HDefaultApplicationInterval,viewsZOrder:[],ticks:0,maxAppRunTime:5000,scheduler:function(){if((this.ticks%10)==0&&this.fix_ie){}
for(var Hv=0;Hv<this.apps.length;Hv++){if(this.apps[Hv]){if(!this.busyApps[Hv]){if((this.ticks%this.appPriorities[Hv])==0){this.appTimers[Hv]=setTimeout('if (HSystem.apps['+Hv+']) {HSystem.apps['+Hv+'].H4N();}',0);}}}}},ticker:function(){this.ticks++;this.scheduler();this.H6M=setTimeout('HSystem.ticker();',0);},addApp:function(H1F,H0e){if(this.freeAppIds.length>200){var Hv=this.freeAppIds.shift();this.apps[Hv]=H1F;}else{this.apps.push(H1F);var Hv=this.apps.length-1;}
H1F.parent=this;H1F.parents=[this];H1F.appId=Hv;this.startApp(Hv,H0e);return Hv;},startApp:function(Hv,H0e){if(H0e===undefined){H0e=this.defaultInterval;}
this.appPriorities[Hv]=H0e;this.busyApps[Hv]=false;},stopApp:function(Hv){this.busyApps[Hv]=true;},reniceApp:function(Hv,H0e){this.appPriorities[Hv]=H0e;},killApp:function(Hv,H6q){if(!H6q){var _startedWaiting=new Date().getTime();while(this.busyApps[Hv]==true){if(new Date().getTime()>_startedWaiting+this.maxAppRunTime){break;}}}
this.busyApps[Hv]=true;this.apps[Hv].destroyAllViews();delete this.apps[Hv];this.apps[Hv]=null;this.freeAppIds.push(Hv);}});onloader('HSystem.ticker();');HApplication=HClass.extend({constructor:function(H0e){this.type='[HApplication]';this.views=[];this.recycleableViewIds=[];this.viewsZOrder=HSystem.viewsZOrder;HSystem.addApp(this,H0e);},buildParents:function(HS){HS.parent=this;HS.parents=[];for(var H1i=0;H1i<this.parents.length;H1i++){HS.parents.push(this.parents[H1i]);}
HS.parents.push(this);},addView:function(HS){this.buildParents(HS);this.viewsZOrder.push(HS);if(this.recycleableViewIds.length>100){var HL=this.recycleableViewIds.shift();this.views[HL]=HS;}else{this.views.push(HS);var HL=this.views.length-1;}
return HL;},removeView:function(HL){if(this.views[HL]){this.views[HL].remove();}},destroyView:function(HL){if(this.views[HL]){this.views[HL].die();}},die:function(){HSystem.killApp(this.appId,false);},destroyAllViews:function(){for(var i=0;i<this.views.length;i++){if(this.views[i]){this.views[i].die();}}},H6c:function(){for(var Hs=0;Hs<this.views.length;Hs++){if(this.views[Hs]){this.views[Hs].onIdle();}}},H4N:function(){HSystem.busyApps[this.appId]=true;this.onIdle();this.H6c();HSystem.busyApps[this.appId]=false;},onIdle:function(){}});HDefaultThemePath='../../';HDefaultThemeName='helmiTheme';HThemeMode=1;HThemeManager=HClass.extend({constructor:null,init:function(){this.themePath=HDefaultThemePath;this._tmplCache={};this._cssCache={};this.currentTheme='helmiTheme';},setThemePath:function(_path){this.themePath=_path;},_errTemplateNotFound:function(HC){alert("ERROR: Template Not Found: '"+HC+"' ");},_errTemplateFailure:function(HC){alert("ERROR: Template Failure: '"+HC+"' ");},_errTemplateException:function(HC){alert("ERROR: Template Exception: '"+HC+"' ");},fetch:function(HC,_contentType){var H4P;if(!_contentType){var _contentType='text/html; charset=UTF-8';}
var H6r=new Ajax.Request(HC,{method:'GET',onSuccess:function(H6s){H4P=H6s.responseText;},on404:function(){HThemeManager._errTemplateNotFound(HC);},onFailure:function(){HThemeManager._errTemplateFailure(HC);},onException:function(){HThemeManager._errTemplateException(HC);},asynchronous:false,contentType:_contentType});H6r.onStateChange();return H4P;},getThemeGfxPath:function(){var Hp=this._cssEvalParams[0];var HF=this._cssEvalParams[1];var HR=this._cssEvalParams[2];var _pkgName=this._cssEvalParams[3];var _urlPrefix=this._urlPrefix(Hp,HF,HR,_pkgName);return this._joinPath(_urlPrefix,'gfx/');},getCssFilePath:function(_fileName){return"url('"+this._joinPath(this.getThemeGfxPath(),_fileName);+"')";},loadCSS:function(HC){var _contentType='text/css';var H1m=this.fetch(HC,_contentType);if(!H1m||H1m==""){return;}
H1m=this._bindCSSVariables(H1m);var H0C,H23,H2A;if(is_ie){H0C=H0s.createStyleSheet();H0C.cssText=H1m;}
else{H0C=H0s.createElement("style");H0C.type=_contentType;H0C.media="all";H2A=H0s.getElementsByTagName('head')[0];H2A.appendChild(H0C);if(navigator.userAgent.indexOf('KHTML')!=-1){var H6t=H0s.createTextNode(H1m);H0C.appendChild(H6t);}
else{H0C.innerHTML=H1m;}}},_addSlash:function(_str){if(_str[_str.length-1]!='/'){_str+='/';}
return _str;},_joinPath:function(_str1,_str2){return this._addSlash(_str1)+_str2;},_urlPrefix:function(Hp,HF,HR,_pkgName){var _path=HR;if(HR===null){_path=this.themePath;}
if(HThemeMode==0){if(_pkgName){_path=this._joinPath(_path,_pkgName);}
if(HR===null){_path=this._joinPath(_path,HF);_path=this._joinPath(_path,'themes');}
_path=this._joinPath(_path,Hp);}
else if(HThemeMode==1){_path=this._joinPath(_path,Hp);}
return _path;},_cssUrl:function(Hp,HF,HR,_pkgName){this._cssEvalParams=[Hp,HF,HR,_pkgName];var _cssPrefix=this._urlPrefix(Hp,HF,HR,_pkgName);var _cssSuffix=this._joinPath('css',HF+'.css');var _cssUrl=this._joinPath(_cssPrefix,_cssSuffix);return _cssUrl;},_markupUrl:function(Hp,HF,HR,_pkgName){var _htmlPrefix=this._urlPrefix(Hp,HF,HR,_pkgName);var _htmlSuffix=this._joinPath('html',HF+'.html');var _htmlUrl=this._joinPath(_htmlPrefix,_htmlSuffix);return _htmlUrl;},loadMarkup:function(Hp,HF,HR,_pkgName){if(!this._tmplCache[Hp]){this._tmplCache[Hp]={};}
var HP=this._tmplCache[Hp][HF];if(null===HP||undefined===HP){var _markupUrl=this._markupUrl(Hp,HF,HR,_pkgName);HP=this.fetch(_markupUrl);if(null===HP||undefined===HP){HP="";}
this._tmplCache[Hp][HF]=HP;}
return HP;},getMarkup:function(Hp,HF,HR,_pkgName){if(!this._cssCache[Hp]){var _commonCssUrl=this._cssUrl(Hp,'common',HR,null);this._cssCache[Hp]={};this.loadCSS(_commonCssUrl);}
if(!this._cssCache[Hp][HF]){var _componentCssUrl=this._cssUrl(Hp,HF,HR,_pkgName);this._cssCache[Hp][HF]=true;this.loadCSS(_componentCssUrl);}
return this.loadMarkup(Hp,HF,HR,_pkgName);},_componentGfxPath:function(Hp,HF,HR,_pkgName){var _urlPrefix=this._urlPrefix(Hp,HF,HR,_pkgName);var HC=this._joinPath(_urlPrefix,'gfx/');return HC;},_componentGfxFile:function(Hp,HF,HR,_pkgName,_fileName){return this._joinPath(this._componentGfxPath(Hp,HF,HR,_pkgName),_fileName);},getThemeGfxFile:function(_fileName){return this.getThemeGfxPath()+_fileName;},setTheme:function(H4O){this.currentTheme=H4O;},restoreDefaultTheme:function(){this.setTheme(HDefaultThemeName);},H1j:new RegExp(/#\{([^\}]*)\}/),_bindCSSVariables:function(_cssTmpl){while(this.H1j.test(_cssTmpl)){_cssTmpl=_cssTmpl.replace(this.H1j,eval(RegExp.$1));}
return _cssTmpl;}});HMarkupView=HClass.extend({bindMarkupVariables:function(){var H20=this.markup;var _ID=this.elemId.toString();var _WIDTH=this.rect.width;var _HEIGHT=this.rect.height;while(HMarkupView.H1j.test(H20)){H20=H20.replace(HMarkupView.H1j,eval(RegExp.$1));}
this.markup=H20;},toggleCSSClass:function(H0B,H21,H4B){if(H0B){var H4C=helmi.Element.hasClassName(H0B,H21);if(H4B){if(!H4C){helmi.Element.addClassName(H0B,H21);}}
else{if(H4C){helmi.Element.removeClassName(H0B,H21);}}}}},{H1j:new RegExp(/#\{([^\}]*)\}/)});HView=HClass.extend({themePath:null,packageName:null,constructor:function(H0,H4){this.theme=HThemeManager.currentTheme;this.preserveTheme=false;this.resizeElements=[];this.H4I=false;this.H3u=[];this.hasResizeElements=false;this.optimizeWidthOnRefresh=true;this.parent=H4;this.viewId=this.parent.addView(this);this.appId=this.parent.appId;this.app=HSystem.apps[this.appId];this.views=[];this.recycleableViewIds=[];this.viewsZOrder=[];this.H6k();prop_set(this.elemId,'display','none',true);prop_set(this.elemId,'position','absolute',true);prop_set(this.elemId,'overflow','hidden',true);this.setRect(H0);this.isHidden=false;if(this.parent.type=='[HView]'){this.type='[HSubview]';}else{this.type='[HView]';}
this.drawn=false;this.H4F=H0.left;this.H4G=H0.top;this.H1E=[];if(!this.isinherited){this.draw();}},getThemeGfxPath:function(){if(this.preserveTheme){Hp=this.theme;}else{Hp=HThemeManager.currentTheme;}
return HThemeManager._componentGfxPath(Hp,this.componentName,this.themePath,this.packageName);},getThemeGfxFile:function(_fileName){if(this.preserveTheme){Hp=this.theme;}else{Hp=HThemeManager.currentTheme;}
return HThemeManager._componentGfxFile(Hp,this.componentName,this.themePath,this.packageName,_fileName);},addResizeableElement:function(H3t){var H4H=H3t[0];if(this.H3u.indexOf(H4H)==-1){this.H3u.push(H4H);this.resizeElements.push(H3t);}
this.addResizeableElementCalled=true;return'';},initResizeElements:function(){for(var H10=0;H10<this.resizeElements.length;H10++){var Hk=this.bindDomElement(this.H3u[H10]);this.resizeElements[H10][0]=Hk;}
this.H4I=true;if(this.resizeElements.length!=0){this.hasResizeElements=true;}},doResizeElements:function(){for(var H10=0;H10<this.resizeElements.length;H10++){var H2y=this.resizeElements[H10];var H3=Math.max(this.rect.width+H2y[1],0);prop_set(H2y[0],'width',H3+'px');H3=Math.max(this.rect.height+H2y[2],0);prop_set(H2y[0],'height',H3+'px');}},H6k:function(){if(!this.elemId){var H3p;if(this.parent.elemId===undefined){H3p=0;}
else{H3p=this.parent.elemId;}
this.elemId=elem_mk(H3p);this.setStyle('visibility','hidden',true);helmi.Element.addClassName(elem_get(this.elemId),HThemeManager.currentTheme);}},drawRect:function(){if(!this.parent||!this.rect.isValid){return;}
if(!this.H4I&&this.addResizeableElementCalled){this.initResizeElements();}
if(this.hasResizeElements){this.doResizeElements();}
this.drawn=true;var Hk=this.elemId;var H0=this.rect;prop_set(Hk,'left',H0.left+'px',true);prop_set(Hk,'top',H0.top+'px',true);prop_set(Hk,'width',H0.width+'px',true);prop_set(Hk,'height',H0.height+'px',true);if(undefined===this.isHidden||this.isHidden==false){prop_set(Hk,'visibility','inherit',true);}
prop_set(Hk,'display','block',true);this.H4E();if(this.H4F!=H0.left||this.H4G!=H0.top){this.invalidatePositionCache();this.H4F=H0.left;this.H4G=H0.top;}
if(is.ie6&&!this.ie_resizefixadded){_traverseTree(elem_get(this.elemId));this.ie_resizefixadded=true;}},H4E:function(){prop_set(this.elemId,'z-index',this.parent.viewsZOrder.indexOf(this),true);},H2x:function(){var H3r=this.parent.viewsZOrder;for(var i=0;i<H3r.length;i++){if(H3r[i].elemId){prop_set(H3r[i].elemId,'z-index',i,true);}}},draw:function(){this.drawRect();},H4D:function(){var Hp;if(this.preserveTheme){Hp=this.theme;}
else{Hp=HThemeManager.currentTheme;}
this.markup=HThemeManager.getMarkup(Hp,this.componentName,this.themePath,this.packageName);},drawMarkup:function(){prop_set(this.elemId,'display','none',true);this.H4D();this.bindMarkupVariables();elem_set(this.elemId,this.markup);this.markupElemIds={};var _predefinedPartNames=['bg','label','state','control','value','subview'];for(var i=0;i<_predefinedPartNames.length;i++){var _partName=_predefinedPartNames[i];var _elemName=_partName+this.elemId;var _htmlIdMatch=' id="'+_elemName+'"';if(this.markup.indexOf(_htmlIdMatch)!=-1){this.markupElemIds[_partName]=this.bindDomElement(_elemName);}}
prop_set(this.elemId,'display','block',true);if(is.ie6&&!this.ie_htmlresizefixadded){_traverseTree(elem_get(this.elemId));this.ie_htmlresizefixadded=true;}},setHTML:function(H13){elem_set(this.elemId,H13);},refresh:function(){if(this.drawn){this.drawRect();}
if(this.optimizeWidthOnRefresh){this.optimizeWidth();}},setRect:function(H0){if(this.rect){this.rect.unbind(this);}
this.rect=H0;this.rect.bind(this);this.refresh();},setStyle:function(Hd,H3,H3s){if(!this.elemId){return;}
prop_set(this.elemId,Hd,H3,H3s);},style:function(Hd){if(!this.elemId){return;}
return prop_get(this.elemId,Hd);},setStyleForPart:function(_partName,Hd,H3,H3s){if(!this.markupElemIds[_partName]){return;}
prop_set(this.markupElemIds[_partName],Hd,H3,H3s);},styleForPart:function(_partName,Hd){if(!this.markupElemIds[_partName]){return;}
prop_get(this.markupElemIds[_partName],Hd);},hide:function(){if(!this.isHidden){this.setStyle('visibility','hidden');this.setStyle('display','none');this.isHidden=true;}},show:function(){if(this.isHidden){this.setStyle('visibility','inherit');this.setStyle('display','block');this.isHidden=false;}},toggle:function(){if(this.isHidden){this.show();}else{this.hide();}},remove:function(){if(this.parent){this.parent.viewsZOrder.splice(this.parent.viewsZOrder.indexOf(this),1);var H4K=this.parent.views.indexOf(this);this.parent.views[H4K]=null;this.parent.recycleableViewIds.push(H4K);this.H2x();this.parent=null;this.parents=[];}},die:function(){for(var i=0;i<this.views.length;i++){if(this.views[i]){this.views[i].die();}}
this.remove();for(var i=0;i<this.H1E.length;i++){elem_del(this.H1E[i]);}
this.H1E=[];elem_del(this.elemId);this.elemId=null;this.drawn=false;delete this.rect;},onIdle:function(){for(var Hs=0;Hs<this.views.length;Hs++){if(this.views[Hs]){this.views[Hs].onIdle();}}},buildParents:function(HS){HS.parent=this;HS.parents=[];for(var H1i=0;H1i<this.parents.length;H1i++){HS.parents.push(this.parents[H1i]);}
HS.parents.push(this);},addView:function(HS){this.buildParents(HS);this.viewsZOrder.push(HS);if(this.recycleableViewIds.length>100){var HL=this.recycleableViewIds.shift();this.views[HL]=HS;}else{this.views.push(HS);var HL=this.views.length-1;}
return HL;},removeView:function(HL){if(this.views[HL]){this.views[HL].remove();}},destroyView:function(HL){if(this.views[HL]){this.views[HL].die();}},bounds:function(){var H1k=new HRect(this.rect);H1k.right-=H1k.left;H1k.left=0;H1k.bottom-=H1k.top;H1k.top=0;return H1k;},resizeBy:function(H3q,H22){var H0=this.rect;H0.right+=H3q;H0.bottom+=H22;H0.updateSecondaryValues();this.drawRect();},resizeTo:function(Hf,HM){var H0=this.rect;H0.right=H0.left+Hf;H0.bottom=H0.top+HM;H0.updateSecondaryValues();this.drawRect();},offsetTo:function(){this.rect.offsetTo.apply(this.rect,arguments);this.drawRect();},moveTo:function(){this.offsetTo.apply(this,arguments);},offsetBy:function(H3q,H22){this.rect.offsetBy(H3q,H22);this.drawRect();},moveBy:function(){this.offsetBy.apply(this,arguments);},bringToFront:function(){if(!this.parent){return;}
var Hb=this.zIndex();this.parent.viewsZOrder.splice(Hb,1);this.parent.viewsZOrder.push(this);this.H2x();},sendToBack:function(){if(!this.parent){return;}
var Hb=this.zIndex();this.parent.viewsZOrder.splice(Hb,1);this.parent.viewsZOrder.splice(0,0,this);this.H2x();},zIndex:function(){if(!this.parent){return;}
return this.parent.viewsZOrder.indexOf(this);},stringWidth:function(H0T,HX,Hk){if(HX!==undefined&&HX!=null){H0T=H0T.substring(0,HX);}
if(Hk===undefined||Hk==null){Hk=this.elemId;}
var H0J=elem_mk(Hk);prop_set(H0J,"visibility","hidden",true);prop_set(H0J,"position","absolute",true);prop_set(H0J,"white-space","nowrap",true);elem_set(H0J,H0T);var Hf;var HM;if(is_ie||is.opera){Hf=elem_get(H0J).offsetWidth;if(arguments[3]){HM=elem_get(H0J).offsetHeight;}}else{Hf=prop_get(H0J,"width");if(arguments[3]){HM=prop_get(H0J,"height");}}
elem_del(H0J);if(arguments[3]){return new HPoint(parseInt(Hf,10),parseInt(HM,10));}else{return parseInt(Hf,10);}},pageX:function(){var H8=0;var Hc=this;while(Hc){if(Hc.elemId&&Hc.rect){H8+=elem_get(Hc.elemId).offsetLeft;H8-=elem_get(Hc.elemId).scrollLeft;}
Hc=Hc.parent;}
return H8;},pageY:function(){var H9=0;var Hc=this;while(Hc){if(Hc.elemId&&Hc.rect){H9+=elem_get(Hc.elemId).offsetTop;H9-=elem_get(Hc.elemId).scrollTop;}
Hc=Hc.parent;}
return H9;},pageLocation:function(){return new HPoint(this.pageX(),this.pageY());},optimizeWidth:function(){},invalidatePositionCache:function(){for(var i=0;i<this.views.length;i++){if(this.views[i]){this.views[i].invalidatePositionCache();}}},bindDomElement:function(H0i){var H3v=elem_bind(H0i);if(H3v){this.H1E.push(H3v);}
return H3v;},unbindDomElement:function(H0B){var H4J=this.H1E.indexOf(H0B);if(H4J>-1){elem_del(H0B);this.H1E.splice(H4J,1);}},animateTo:function(Hg,H11,H1l){if(Hg instanceof HPoint){var H0=new HRect(Hg,Hg);H0.setSize(this.rect.width,this.rect.height);this.H3w(H0,H11);}
else if(Hg instanceof HRect){this.H3w(Hg,H11);}
else{throw"Wrong argument type.";}},stopAnimation:function(){if(this.H2z){window.clearInterval(this.H2z);this.H2z=null;var Hy=parseInt(this.style('left'),10);var HH=parseInt(this.style('top'),10);var Hf=parseInt(this.style('width'),10);var HM=parseInt(this.style('height'),10);this.rect.set(Hy,HH,Hy+Hf,HH+HM);if(this.H4L){this.onAnimationEnd();}
else{this.onAnimationCancel();}}},H3w:function(H0,H11,H1l){if(null===H11||undefined===H11){H11=500;}
if(null===H1l||undefined===H1l||H1l<1){H1l=50;}
if(!this.H2z){this.H4L=false;this.onAnimationStart();var H6m=new Date().getTime();var Hw=this;this.H2z=window.setInterval(function(){Hw.H6n({startTime:H6m,duration:H11,transition:function(t,b,c,d){return c*t/d+b;},props:[{prop:'left',from:Hw.rect.left,to:H0.left,unit:'px'},{prop:'top',from:Hw.rect.top,to:H0.top,unit:'px'},{prop:'width',from:Hw.rect.width,to:H0.width,unit:'px'},{prop:'height',from:Hw.rect.height,to:H0.height,unit:'px'}]});},Math.round(1000/H1l));}},H6n:function(Hg){var HV=new Date().getTime();if(HV<Hg.startTime+Hg.duration){var H6o=HV-Hg.startTime;for(var i=0;i<Hg.props.length;i++){var H3x=Hg.props[i].from;var H4M=Hg.props[i].to;if(H3x!=H4M){var H6p=Hg.transition(H6o,H3x,(H4M-H3x),Hg.duration);this.setStyle(Hg.props[i].prop,H6p+Hg.props[i].unit);}}}else{for(var i=0;i<Hg.props.length;i++){this.setStyle(Hg.props[i].prop,Hg.props[i].to+Hg.props[i].unit);}
this.H4L=true;this.stopAnimation();}},onAnimationStart:function(){},onAnimationEnd:function(){},onAnimationCancel:function(){}});HView.implement(HMarkupView);HControl=HView.extend({constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4);}
else{this.isinherited=true;this.base(H0,H4);this.isinherited=false;}
if(!H1){H1={};}
var options=new(HComponentDefaults.extend(H1));this.options=options;var HB=options.label;this.setLabel(HB);var H1U=options.events;this.setEvents(H1U);this.type='[HControl]';this.refreshOnValueChange=true;if(!this.valueObj){this.setValueObj(new HDummyValue());}
if(!this.value){this.setValue(options.value);}
var H6e=(H1.minValue||H1.maxValue);if(H6e){this.setValueRange(options.value,options.minValue,options.maxValue);}
this.setEnabled(options.enabled);this.action=options.action;if(null!==options.visible&&undefined!==options.visible){if(options.visible){this.show();}
else{this.hide();}}
if(!this.isinherited){this.draw();}},setAction:function(H4u){this.action=H4u;},die:function(){if(this.valueObj){this.valueObj.unbind(this);delete this.valueObj;}
HEventManager.unregister(this);this.base();},setLabel:function(HB){this.label=HB;this.refresh();},setEnabled:function(Hh){for(var i=0;i<this.views.length;i++){if(this.views[i]){this.views[i].setEnabled(Hh);}}
if(this.enabled==Hh){return;}
this.enabled=Hh;if(Hh){HEventManager.register(this,this.events);}
else{HEventManager.unregister(this);}
this.toggleCSSClass(elem_get(this.elemId),HControl.CSS_ENABLED,this.enabled);this.toggleCSSClass(elem_get(this.elemId),HControl.CSS_DISABLED,!this.enabled);},setValue:function(H3){if(H3==undefined){return}
if(!this.valueObj){return}
if(H3!==this.value){this.value=H3;this.valueObj.set(this.value);if(this.refreshOnValueChange){this.refresh();}}},setValueObj:function(H1K){this.valueObj=H1K;this.setValue(H1K.value);},setValueRange:function(H3,H2n,H2o){this.minValue=H2n;this.maxValue=H2o;H3=(H3<H2n)?H2n:H3;H3=(H3>H2o)?H2o:H3;this.setValue(H3);this.refresh();},setEvents:function(H1U){if(!this.events){var H6d=HClass.extend({mouseDown:false,mouseUp:false,draggable:false,droppable:false,keyDown:false,keyUp:false,mouseWheel:false});this.events=new H6d;}
if(H1U){this.events.extend(H1U);}
this.events.owner=this;HEventManager.focusOptions[this.elemId]=this.events;this.isDragged=false;},setMouseDown:function(Hh){this.events.mouseDown=Hh;this.setEvents();},setMouseUp:function(Hh){this.events.mouseUp=Hh;this.setEvents();},setMouseWheel:function(Hh){this.events.mouseWheel=Hh;this.setEvents();},setDraggable:function(Hh){this.events.draggable=Hh;this.setEvents();},setDroppable:function(Hh){this.events.droppable=Hh;this.setEvents();},setKeyDown:function(Hh){this.events.keyDown=Hh;this.setEvents();},setKeyUp:function(Hh){this.events.keyUp=Hh;this.setEvents();},focus:function(){},blur:function(){},gainedActiveStatus:function(H0A){},_gainedActiveStatus:function(H0A){if(this.enabled){this.toggleCSSClass(elem_get(this.elemId),HControl.CSS_ACTIVE,true);}
this.gainedActiveStatus(H0A);},lostActiveStatus:function(HE){},_lostActiveStatus:function(HE){if(this.enabled){this.toggleCSSClass(elem_get(this.elemId),HControl.CSS_ACTIVE,false);}
this.lostActiveStatus(HE);},mouseDown:function(H8,H9,HW){},mouseUp:function(H8,H9,HW){},mouseWheel:function(H0a){},startDrag:function(x,y){this.isDragged=true;},doDrag:function(x,y){},endDrag:function(x,y){this.isDragged=false;this.invalidatePositionCache();},onDrop:function(obj){},onHoverStart:function(obj){},onHoverEnd:function(obj){},keyDown:function(Hx){},keyUp:function(Hx){},H24:function(e){if(!Event.element){return;}
var Hw=Event.element(e);while(Hw&&Hw.owner===undefined){Hw=Hw.parentNode;}
if(!Hw){return;}
var H5=Hw.owner;HEventManager.focus(H5);Event.stop(e);},H3A:function(e){if(!Event.element){return;}
var Hw=Event.element(e);while(Hw&&Hw.owner===undefined){Hw=Hw.parentNode;}
if(!Hw){return;}
var H5=Hw.owner;HEventManager.blur(H5);Event.stop(e);},invalidatePositionCache:function(){this.base();HEventManager.invalidatePositionCache(this.elemId);}},{stopPropagation:function(event){if(event.stopPropagation){event.stopPropagation();}else{event.cancelBubble=true;}},H_CONTROL_ON:1,H_CONTROL_OFF:0,CSS_DISABLED:"disabled",CSS_ENABLED:"enabled",CSS_ACTIVE:"active"});HDummyValue=HClass.extend({constructor:function(H6,H3){this.id=H6;this.value=H3;this.type='[HDummyValue]';},set:function(H3){this.value=H3;},get:function(){return this.value;},bind:function(H2b){},unbind:function(H2b){}});HComponentDefaults=HClass.extend({label:"Untitled",events:{},value:0,action:function(){},enabled:true,active:false,minValue:-2147483648,maxValue:2147483648});HRectValue=HRect.extend({constructor:function(){this.type='[HRectValue]';var H6,H3;var Ha=arguments;if(Ha.length===0){throw"Invalid number of arguments. HRectValue works as HRect, but needs an id as the first argument.";}else if(Ha.length==1){H6=Ha[0];this.H1C();}else if(Ha.length==5){H6=Ha[0];this.H3o(Ha[1],Ha[2],Ha[3],Ha[4]);}
else if(Ha.length==3){H6=Ha[0];this.H1D(Ha[1],Ha[2]);}
else if(Ha.length==2){H6=Ha[0];if((Ha[1]instanceof HRect)||(args[1]instanceof HRectValue)){this.H2w(Ha[1]);}else if(Ha[1]instanceof Array){this.H5d(Ha[1]);}else{throw"Invalid argument. Expected Array or Rect.";}}
else{throw"Invalid number of arguments.";}
H3=[this.left,this.top,this.right,this.bottom];this.id=H6;this.value=H3;this.views=[];this.updateSecondaryValues();HValueManager.add(H6,this);},updateSecondaryValues:function(){this.base();if(this.H5e()){this.value[0]=this.left;this.value[1]=this.top;this.value[2]=this.right;this.value[3]=this.bottom;this.refresh();}},H5d:function(H2L){this.left=H2L[0];this.top=H2L[1];this.right=H2L[2];this.bottom=H2L[3];},H5e:function(){if((this.left!=this.value[0])||(this.top!=this.value[1])||(this.right!=this.value[2])||(this.bottom!=this.value[3])){HValueManager.changed(this);this.refresh();return true;}
return false;},set:function(){var Ha=arguments;if(Ha.length==1){if((Ha[0]instanceof HRect)||(Ha[0]instanceof HRectValue)){this.H2w(Ha[0]);}else if(Ha[0]instanceof Array){this.H5d(Ha[0]);}}else{this.base.apply(this,Ha);}
this.H5e();},get:function(){return this.value;},bind:function(Ho){if(this.views.indexOf(Ho.elemId)==-1){this.views.push(Ho);if(Ho.rect!==this){Ho.setRect(this);}}},unbind:function(Ho){for(var Hs=0;Hs<this.views.length;Hs++){var H3P=this.views[Hs];if(H3P===Ho){this.views.splice(Hs);return;}}},refresh:function(){for(var Hs=0;Hs<this.views.length;Hs++){var Ho=this.views[Hs];Ho.drawRect();}},toXML:function(HT){return'<rect id="'+this.id+'" order="'+HT+'"><left>'+this.left+'</left><top>'+this.top+'</top><right>'+this.right+'</right><bottom>'+this.bottom+'</bottom></rect>';}});
ie_namespace={};function $(H2){if(typeof H2=='string')H2=document.getElementById(H2);return H2;}
helmi={};Object.extend=function(destination,source){for(property in source){destination[property]=source[property];}
return destination;}
helmi.UserAgent=function(){var b=navigator.appName;var v=navigator.appVersion;var ua=navigator.userAgent.toLowerCase();this.safari=ua.indexOf("safari")>-1;this.opera=ua.indexOf("opera")>-1;this.ns=!this.opera&&!this.safari&&(b=="Netscape");this.ie=!this.opera&&(b=="Microsoft Internet Explorer");this.gecko=!this.safari&&ua.indexOf("gecko")>-1;if(this.ns){this.ns4=(this.v==4);this.v=parseInt(ua.substr(ua.indexOf("netscape")+9,1),10);this.ns6=(this.v==6);this.ns7=(this.v==7);}else if(this.ie){this.ie4=(v.indexOf("MSIE 4")>0);this.ie5=(v.indexOf("MSIE 5")>0);this.ie55=(v.indexOf("MSIE 5.5")>0);this.ie6=(v.indexOf("MSIE 6")>0);this.ie7=(v.indexOf("MSIE 7")>0);}else if(this.opera){this.v=parseInt(ua.substr(ua.indexOf("opera")+6,1),10);this.opera6=(this.v==6);this.opera7=(this.v==7);this.opera8=(this.v==8);this.opera9=(this.v==9);}
this.win=ua.indexOf("win")>-1;this.mac=ua.indexOf("mac")>-1;}
is=new helmi.UserAgent();helmi.Element=Base.extend({constructor:null,getPageLocation:function(H2,H1J){var H08=0,H09=0;var Hm;var H2c=H2;if(is.opera){if(is.opera9){do{Hm=H2.offsetParent;H08+=H2.offsetLeft;H09+=H2.offsetTop;H2=Hm;}while(H2);}else{if(H2.tagName.toLowerCase()=="body"){return[0,0];}
var H0m;do{Hm=H2.offsetParent;if(H2.tagName.toLowerCase()=="body"&&H0m&&(H0m.style.position=="absolute"||H0m.style.position=="relative"||H0m.style.position=="fixed")){}else{H08+=H2.offsetLeft;H09+=H2.offsetTop;}
if(Hm&&Hm.tagName.toLowerCase()=="body"&&(H2.style.position=="absolute"||H2.style.position=="relative"||H2.style.position=="fixed"||H2.tagName.toLowerCase()=="input"||H2.tagName.toLowerCase()=="button"||H2.tagName.toLowerCase()=="select"||H2.tagName.toLowerCase()=="textarea")){}else if(Hm){H08+=Hm.clientLeft;H09+=Hm.clientTop;}
H0m=H2;H2=Hm;}while(H2);}}else if(is.safari){if(H2.tagName.toLowerCase()=="body"){return[0,0];}
var H0m;do{Hm=H2.offsetParent;if(H2.tagName.toLowerCase()=="body"&&H0m&&(H0m.style.position=="absolute"||H0m.style.position=="fixed")){}else{H08+=H2.offsetLeft;H09+=H2.offsetTop;}
H0m=H2;H2=Hm;}while(H2);}else if(is.ns){if(H1J){var H14=[];var x=H2.offsetLeft;var y=H2.offsetTop;var H5n=null;do{Hm=H2.offsetParent;if(H2==H2c&&H2.style.position!="absolute"){if(Hm&&(Hm.style.overflow=="scroll"||Hm.style.overflow=="auto")){H5n=Hm;}}
if(H2.style.overflow=="scroll"||H2.style.overflow=="auto"){H14.push([H2,H2.style.overflow,H2.scrollLeft,H2.scrollTop]);H2.style.overflow="inherit";}
H2=Hm;}while(H2);}
H2=H2c;do{Hm=H2.offsetParent;if(H2.tagName.toLowerCase()=="body"){}else{if(H2==H2c&&H2.style.position!="absolute"){H08+=x;H09+=y;}else{H08+=H2.offsetLeft;H09+=H2.offsetTop;}}
if(Hm&&Hm.tagName.toLowerCase()=="body"&&(H2.style.position=="absolute"||H2.style.position=="fixed")){}else if(Hm){H08+=(Hm.offsetWidth-Hm.clientWidth)/2;H09+=(Hm.offsetHeight-Hm.clientHeight)/2;if(Hm==H5n){H08+=(Hm.offsetWidth-Hm.clientWidth)/2;H09+=(Hm.offsetHeight-Hm.clientHeight)/2;}}
H2=Hm;}while(H2);if(H1J){var l=H14.length;for(var i=0;i<l;i++){H14[i][0].style.overflow=H14[i][1];H14[i][0].scrollLeft=H14[i][2];H14[i][0].scrollTop=H14[i][3];}}}else if(is.ie){if(H2.tagName.toLowerCase()=="body"){return[0,0];}
do{Hm=H2.offsetParent;H08+=H2.offsetLeft;H09+=H2.offsetTop;if(Hm&&Hm.tagName.toLowerCase()=="html"&&H2.style.position=="relative"){H08-=2;H09-=2;}
if(Hm&&Hm.tagName.toLowerCase()=="html"&&H2.style.position=="absolute"){}else if(Hm){H08+=Hm.clientLeft;H09+=Hm.clientTop;}
H2=Hm;}while(H2);}
if(H1J){H2=H2c;do{if(!H2.tagName||H2.tagName.toLowerCase()=="body"){break;}
if(H2.style.position=="fixed"){H08+=window.pageXOffset||document.documentElement.scrollLeft;H09+=window.pageYOffset||document.documentElement.scrollTop;}
Hm=H2.parentNode;if(H2!=H2c){if(is.opera&&H2.tagName.toLowerCase()=="tr"){}else{H08-=H2.scrollLeft;H09-=H2.scrollTop;}}
H2=Hm;}while(H2);}
return[H08,H09];},getSize:function(H2){return[H2.offsetWidth,H2.offsetHeight];},getVisibleSize:function(H2){var w=H2.offsetWidth;var h=H2.offsetHeight;var HD=H2.parentNode;while(HD&&HD.nodeName.toLowerCase()!='body'){var H0h;if(!is.ie){H0h=document.defaultView.getComputedStyle(HD,null).getPropertyValue('overflow');}else{H0h=HD.currentStyle.getAttribute('overflow');}
H0h=H0h!='visible';if(w>HD.clientWidth&&H0h){w=HD.clientWidth-H2.offsetLeft;}
if(h>HD.clientHeight&&H0h){h=HD.clientHeight-H2.offsetTop;}
H2=H2.parentNode;HD=H2.parentNode;}
return[w,h];},getVisiblePageLocation:function(H2,H1J){var H1r=this.getPageLocation(H2,H1J);var x=H1r[0];var y=H1r[1];var HD=H2.parentNode;while(HD&&HD.nodeName.toLowerCase()!='body'){var H0h;if(!is.ie){H0h=document.defaultView.getComputedStyle(HD,null).getPropertyValue('overflow');}else{H0h=HD.currentStyle.getAttribute('overflow');}
H0h=H0h!='visible';H1r=this.getPageLocation(HD,H1J);if(x<H1r[0]&&H0h){x=H1r[0];}
if(y<H1r[1]&&H0h){y=H1r[1];}
H2=H2.parentNode;HD=H2.parentNode;}
return[x,y];},hasClassName:function(H2,_className){H2=$(H2);if(!H2)return;var _hasClass=false;var _classNames=H2.className.split(' ');for(var i=0;i<_classNames.length;i++){if(_classNames[i]==_className){_hasClass=true;}}
return _hasClass;},addClassName:function(H2,_className){H2=$(H2);if(!H2)return;helmi.Element.removeClassName(H2,_className);H2.className+=' '+_className;},removeClassName:function(H2,_className){H2=$(H2);if(!H2)return;var _newClassName='';var _classNames=H2.className.split(' ');for(var i=0;i<_classNames.length;i++){if(_classNames[i]!=_className){if(i>0)_newClassName+=' ';_newClassName+=_classNames[i];}}
H2.className=_newClassName;}});Object.extend(Array.prototype,{indexOfObject:function(H2O){var i=0,l=this.length;for(;i<l;i++){if(this[i]==H2O){return i;}}
return-1;},containsObject:function(H2O){return this.indexOfObject(H2O)!=-1;},removeObject:function(H2O){while((i=this.indexOfObject(object))>=0){this.splice(i,1);}},first:function(){return this[0];},last:function(){return this[this.length-1];}});if(!is.ns7){Object.extend(Array.prototype,{indexOf:Array.prototype.indexOfObject});}
helmi.Window=Base.extend({constructor:null,getInnerWidth:function(){return(window.innerWidth)?window.innerWidth:document.documentElement.clientWidth;},getInnerHeight:function(){return(window.innerHeight)?window.innerHeight:document.documentElement.clientHeight;}});helmi.Event=Base.extend({constructor:null,getPageX:function(e){return e.pageX||e.clientX+document.documentElement.scrollLeft;},getPageY:function(e){return e.pageY||e.clientY+document.documentElement.scrollTop;},getKeyCode:function(e){return e.keyCode;},getCharCode:function(e){if(is.ns){return e.charCode;}else{return e.keyCode;}}});HPath=HClass.extend({constructor:null,getRelativePath:function(_docURL,_includeDocURL){var _docURL=this.getRelativeFilePath(_docURL,_includeDocURL);return _docURL.slice(0,_docURL.lastIndexOf("/")+1);},getRelativeFilePath:function(_docURL,_includeDocURL){_docURL=_docURL||"";if(_includeDocURL.charAt(0)=="/"){return _includeDocURL;}
var _docURL=_docURL.substring(0,_docURL.lastIndexOf("/")+1);var _dotDotSlash=_includeDocURL.indexOf("../");var H19=_docURL.length;var _endIndex;while(_dotDotSlash==0){if((_endIndex=_docURL.lastIndexOf("/",H19))!=-1){H19=_docURL.lastIndexOf("/",_endIndex-1);_docURL=_docURL.substring(0,H19+1);}else{break;}
_includeDocURL=_includeDocURL.substring(3);_dotDotSlash=_includeDocURL.indexOf("../");}
return _docURL+_includeDocURL;}});ie_namespace.iestyleSheetLoaded=function(){if(document.readyState=="complete"&&window.event.srcElement.readyState=="complete"){_traverseTree();}}
stylesheet_refresh=function(H23){H23.cssText+="";}
_traverseTree=function(H2){var H2=H2||document.documentElement;while(H2){if(H2.nodeType==1){HStyle._inlineStyleChanged(H2);}
var _next=H2.firstChild;if(!_next){_next=H2.nextSibling;}
while(!_next&&H2.parentNode){H2=H2.parentNode;_next=H2.nextSibling;}
H2=_next;}}
ie_namespace.ieinlineStyleChanged=function(){var H2=window.event.srcElement;if(window.event.propertyName=="style.opacity"){HOpacityFix._fixOpacity(H2);}
else if(window.event.propertyName=="src"&&H2.tagName=="IMG"||(H2.tagName=="INPUT"&&H2.type=="image")){HOpacityFix._fixImg(H2);}}
HStyle=HClass.extend({constructor:null,init:function(){this._AUTO=/^(auto|0cm)$/;},_inlineStyleChanged:function(H2){var _currentStyle=H2.currentStyle;if((_currentStyle.position=="absolute"||_currentStyle.position=="fixed")&&_currentStyle.left!="auto"&&_currentStyle.right!="auto"&&_currentStyle.width=="auto"){HRighBottoFix._resizeRight(H2);}
if((_currentStyle.position=="absolute"||_currentStyle.position=="fixed")&&_currentStyle.top!="auto"&&_currentStyle.bottom!="auto"&&_currentStyle.height=="auto"){HRighBottoFix._resizeBottom(H2);}
if(H2.currentStyle.opacity){HOpacityFix._fixOpacity(H2);}
if(H2.currentStyle.backgroundImage){HOpacityFix._fixBackgroundImage(H2);}
if(H2.tagName=="IMG"||(H2.tagName=="INPUT"&&H2.type=="image")){HOpacityFix._fixImg(H2);}}});HNumber=HClass.extend({constructor:null,init:function(){this._PIXEL=/^\d+(px)?$/i;this._PERCENT=/^\d+%$/;},getPixelValue:function(H2,H3){if(this._PIXEL.test(H3)){return parseInt(H3);}
var H0C=H2.style.left;var _runtimeStyle=H2.runtimeStyle.left;H2.runtimeStyle.left=H2.currentStyle.left;HRighBottoFix.resizing=true;H2.style.left=H3||0;H3=H2.style.pixelLeft;H2.style.left=H0C;HRighBottoFix.resizing=false;H2.runtimeStyle.left=_runtimeStyle;return H3;}});HOpacityFix=HClass.extend({constructor:null,init:function(){this._pngTest=new RegExp(".png$","i");},_fixOpacity:function(H2){var H0n=(parseFloat(H2.currentStyle.opacity)*100)||1;var _filter=H2.filters["DXImageTransform.Microsoft.Alpha"];if(_filter){_filter.Opacity=H0n;_filter.Enabled=true;}else{H2.runtimeStyle.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity="+H0n+")";}},_fixBackgroundImage:function(H2){var HC=H2.currentStyle.backgroundImage.match(/url\(\s*['"]?([^'")]+)['"]?\s*\)/);if(!HC){return;}else{HC=HC[1];}
var _filter=H2.filters["DXImageTransform.Microsoft.AlphaImageLoader"];if(this._pngTest.test(HC)){if(_filter){_filter.sizingMethod="scale";_filter.src=HC;_filter.Enabled=true;}else{H2.runtimeStyle.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+HC+"',sizingMethod='scale')";}
H2.runtimeStyle.zoom="1";H2.runtimeStyle.backgroundImage="none";}else if(_filter){_filter.Enabled=false;}},_fixImg:function(H2){if(this._pngTest.test(H2.src)){var H0z=new Image(H2.width,H2.height);H0z.onload=function(){H2.width=H0z.width;H2.height=H0z.height;H0z=null;}
this._addFilter(H2,H0z);}},_addFilter:function(H2,H0z){var _filter=H2.filters["DXImageTransform.Microsoft.AlphaImageLoader"];if(_filter){_filter.src=H2.src;_filter.Enabled=true;}else{H2.runtimeStyle.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+H2.src+"',sizingMethod='scale')";}
var _tempURL=H2.src;H2.src=HPath.getRelativeFilePath(_tempURL,"blank.gif");H0z.src=_tempURL;}});HRighBottoFix=HClass.extend({constructor:null,init:function(){eval("this._getMarginWidth="+String(this._getPaddingWidth).replace(/padding/g,"margin"));eval("this._getPaddingHeight="+String(this._getPaddingWidth).replace(/Width/g,"Height").replace(/Left/g,"Top").replace(/Right/g,"Bottom"));eval("this._getMarginHeight="+String(this._getPaddingHeight).replace(/padding/g,"margin"));eval("this._getBorderHeight="+String(this._getBorderWidth).replace(/Width/g,"Height"));eval("this._layoutHeight="+String(this._layoutWidth).replace(/Width/g,"Height").replace(/width/g,"height").replace(/Right/g,"Bottom"));eval("this._getPixelHeight="+String(this._getPixelWidth).replace(/Width/g,"Height"));eval("this._resizeBottom="+String(this._resizeRight).replace(/Width/g,"Height").replace(/width/g,"height").replace(/left/g,"top").replace(/right/g,"bottom"));this.resizing=false;},_hasLayout:function(H2){return H2.currentStyle.hasLayout;},_getPaddingWidth:function(H2){return this._getPixelWidth(H2,H2.currentStyle.paddingLeft)+
this._getPixelWidth(H2,H2.currentStyle.paddingRight);},_getBorderWidth:function(H2){return H2.offsetWidth-H2.clientWidth;},_layoutWidth:function(H2){var _layoutParent=H2.offsetParent;while(_layoutParent&&!this._hasLayout(_layoutParent)){_layoutParent=_layoutParent.offsetParent;}
if(!_layoutParent._resizewidthElements){_layoutParent._resizewidthElements=[];}
if(!H2._addedResizewidthFix){_layoutParent._resizewidthElements.push(H2);var HD=_layoutParent;while(HD.offsetParent){HD=HD.offsetParent;if(HD._resizewidthElements){HD._resizewidthElements.push(H2);}
if(HD.style.position=="absolute"||HD.style.position=="fixed"){break;}}
H2._addedResizewidthFix=true;}
if(!_layoutParent._resizewidth){_layoutParent.attachEvent("onpropertychange",function(){if(window.event.propertyName=="style.width"){for(var i=0;i<_layoutParent._resizewidthElements.length;i++){HRighBottoFix._resizeRight(_layoutParent._resizewidthElements[i]);}}});_layoutParent._resizewidth=true;}
return(_layoutParent||document.documentElement).clientWidth;},_getPixelWidth:function(H2,H3){if(HNumber._PERCENT.test(H3)){return parseInt(parseFloat(H3)/100*this._layoutWidth(H2));}
return HNumber.getPixelValue(H2,H3);},_resizeRight:function(H2){var Hy=parseInt(H2.currentStyle.left);var Hf=this._layoutWidth(H2)-this._getPixelWidth(H2,H2.currentStyle.right)-Hy-this._getMarginWidth(H2);var Hf=this._layoutWidth(H2)-parseInt(H2.currentStyle.right)-Hy;if(parseInt(H2.runtimeStyle.width)==Hf){return;}
H2.runtimeStyle.width="";if(H2.offsetWidth<Hf){if(Hf<0){Hf=0;}
Hf-=this._getBorderWidth(H2)+this._getPaddingWidth(H2);H2.runtimeStyle.width=Hf;}}});ie_complete=document.readyState=="complete";ie_initialized=false;ie_documentLoaded=function(){if(document.readyState=="complete"){_traverseTree();}}
ie_fixes=function(){if(is.ie6&&!ie_initialized){if(ie_complete){var _stylesheet=document.createStyleSheet();_stylesheet.cssText='style,link{behavior:url('+ie_htc_path+'ie_css_style.htc)}\n*{behavior:url('+ie_htc_path+'ie_css_element.htc)}';ie_documentLoaded();}else{document.write('<style type="text/css">style,link{behavior:url('+ie_htc_path+'ie_css_style.htc)}\n*{behavior:url('+ie_htc_path+'ie_css_element.htc)}</style>');document.onreadystatechange=ie_documentLoaded;}
ie_initialized=true;}}
ie_fixes();
HTransportURL=false;HTransportPoll=true;HTransporter=Base.extend({constructor:null,start:function(H6I){this.url_base=H6I;this.ses_id=0;this.err_msg='';this.isBusy=false;this.syncNum=0;this.syncDelay=0;this.pollMode=HTransportPoll;this.H3S=setTimeout('HTransporter.sync();',this.syncDelay);},setPollMode:function(Hh){this.pollMode=Hh;},failure:function(resp){alert('HTTP ERROR! STOP.');clearTimeout(this.H3S);this.isBusy=true;},respond:function(resp){var t=HTransporter;try{t.err_msg='';HVM.isGetting=true;eval(resp.responseText);HVM.isGetting=false;}catch(e){t.err_msg='&err_msg='+e;}
t.isBusy=false;},sync:function(){var valid_delay=((this.syncDelay&&this.syncDelay>0)||this.syncDelay==0);if(valid_delay&&this.url_base){if(!this.isBusy){this.isBusy=true;var H5l=HValueManager.toXML();if(""!=H5l||this.pollMode){this.syncNum++;req_args={onSuccess:function(resp){HTransporter.respond(resp);},onFailure:function(resp){HTransporter.failure(resp);},method:'post',postBody:'ses_id='+HTransporter.ses_id+HTransporter.err_msg+H5l};this.req=new Ajax.Request(this.url_base,req_args);}
else{this.isBusy=false;}}
this.H3S=setTimeout('HTransporter.sync();',this.syncDelay);}},stop:function(){clearTimeout(this.H3S);}});onloader("HTransporter.start(HTransportURL);");HValueManager=HClass.extend({constructor:null,values:[],tosync:[],isSending:false,isGetting:false,add:function(H6,Hg){this.values[H6]=Hg;},set:function(H6,H3){this.values[H6].set(H3);},del:function(H6){var H5f=this.values[H6];var H5g=H5f.views;for(var Hs=0;Hs<H5g.length;Hs++){var H6F=H5g[Hs];H6F.valueObj=new HDummyValue(0,H5f.value);}
this.values[H6]=null;},changed:function(H2b){if(this.isGetting==false){if(this.tosync.indexOf(H2b.id)==-1){this.tosync.push(H2b.id);}}},toXML:function(){var H5h='&HSyncData=';if(!this.isSending){this.isSending=true;var H3Q=this.tosync.length;if(H3Q==0){this.isSending=false;return'';}
var H5k=[];for(var HT=0;HT<H3Q;HT++){var H0t=this.tosync.shift();var H6H=this.values[H0t];H5k.push(H6H.toXML(HT));}
var H6G=H5k.join('');H5h+='<hsyncvalues version="2240" length="'+H3Q+'">'+H6G+'</hsyncvalues>';this.isSending=false;}
return H5h;},output:function(){return this.toXML();}});HVM=HValueManager;HValue=HClass.extend({constructor:function(H6,H3){this.id=H6;this.type='[HValue]';this.value=H3;this.views=[];HValueManager.add(H6,this);},set:function(H3){if(H3!=this.value){this.value=H3;HValueManager.changed(this);this.refresh();}},get:function(){return this.value;},bind:function(Ho){if(Ho===undefined){throw("HValueBindError: Ho is undefined!");}
if(this.views.indexOf(Ho.elemId)==-1){this.views.push(Ho);Ho.setValueObj(this);}},unbind:function(Ho){for(var Hs=0;Hs<this.views.length;Hs++){var H3P=this.views[Hs];if(H3P===Ho){this.views.splice(Hs);return;}}},refresh:function(){for(var Hs=0;Hs<this.views.length;Hs++){var Ho=this.views[Hs];if(Ho.value!=this.value){if(!Ho.H2a){Ho.H2a=true;Ho.setValue(this.value);Ho.H2a=false;}}}},toXML:function(HT){var H0t=this.id;var H5i=this.type.slice(1,-1).toLowerCase();var H3R=this.value;var H5j=typeof H3R;var H0f=H3R.toString();H0f=H0f.replace(/&/g,'&amp;');H0f=H0f.replace(/</g,'&lt;');H0f=H0f.replace(/>/g,'&gt;');H0f=H0f.replace(/%/g,'%25');H0f=H0f.replace(/&/g,'%26');return'<'+H5i+' id="'+H0t+'" order="'+HT+'" jstype="'+H5j+'" length="'+H3R.toString().length+'">'+H0f+'</'+H5i+'>';}});HControlValue=HValue.extend({constructor:function(H6,H3){this.validate(H3);this.label=(H3.label!==undefined)?H3.label:"Untitled";if(H3.value===undefined){H3.value=0;}
this.enabled=(H3.enabled!==undefined)?H3.enabled:true;this.active=(H3.active!==undefined)?H3.active:false;this.base(H6,H3.value);this.type='[HControlValue]';},validate:function(H3){if(typeof H3!="object"){throw('ControlValueError: ControlValue must be an object');}},set:function(H3){if(typeof H3=="boolean"){var H2R=H3;H3={};H3.value=H2R;}
this.validate(H3);this.label=(H3.label!==undefined)?H3.label:this.label;if(H3.value===undefined){H3.value=this.value;}
this.enabled=(H3.enabled!==undefined)?H3.enabled:this.enabled;this.active=(H3.active!==undefined)?H3.active:this.active;this.base(H3.value);},setLabel:function(HB){this.set({label:HB});},setValue:function(H3){this.set({value:H3});},setEnabled:function(H2N){this.set({enabled:H2N});},setActive:function(_active){this.set({active:_active});},bind:function(Ho){this.base(Ho);if(this.views.indexOf(Ho.elemId)==-1){this.views.push(Ho);Ho.setLabel(this.label);Ho.setEnabled(this.enabled);}},refresh:function(){this.base();for(var Hs=0;Hs<this.views.length;Hs++){var Ho=this.views[Hs];if(Ho.value!=this.value){if(!Ho.H2a){Ho.H2a=true;Ho.setLabel(this.label);Ho.setEnabled(this.enabled);Ho.H2a=false;}}}},toXML:function(HT){var H0t=this.id;return'<controlvalue id="'+H0t+'" order="'+HT+'"><label>'+this.label+'</label><value>'+this.value+'</value><enabled>'+this.enabled+'</enabled><active>'+this.active+'</active></controlvalue>';}});HValueMatrixComponentExtension={setValueMatrix:function(H2P){this.valueMatrix=H2P;this.valueMatrixIndex=this.valueMatrix.addValue(this.valueObj,this.value);},mouseDown:function(H8,H9,H03){if(this.valueMatrix instanceof HValueMatrix){this.valueMatrix.setValue(this.valueMatrixIndex);}else{this.setValue(!this.value);}},mouseUp:function(H8,H9,H03){if(this.valueMatrix instanceof HValueMatrix){this.valueMatrix.setValue(this.valueMatrixIndex);}else{this.setValue(!this.value);}}};HValueMatrix=HClass.extend({constructor:function(){this.values=[];this.value=-1;},setValueObj:function(H1K){this.valueObj=H1K;this.setValue(this.valueObj.value);},setValue:function(Hb){if(Hb!=this.value){if(this.value!=-1){this.values[this.value].set(false);}
if(Hb!=-1){this.valueObj.set(Hb);this.value=Hb;this.values[this.value].set(true);}}},addValue:function(H5o,H5p){this.values.push(H5o);var H1s=this.values.length-1;if(H5p){this.setValue(H1s);}
return H1s;}});
HButton=HControl.extend({componentName:"button",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HButton]';this.preserveTheme=true;if(!this.isinherited){this.draw();}
this._drawnSize=[this.rect.width,this.rect.height];},setLabelHeightDiff:function(_newHeightDiff){this._labelHeightDiff=_newHeightDiff;return'';},setLabelWidthDiff:function(_newWidthDiff){this._labelWidthDiff=_newWidthDiff;return'';},onIdle:function(){if(this.drawn){var Hf=this.rect.width;var HM=this.rect.height;if((Hf!=this._drawnSize[0])||(HM!=this._drawnSize[1])){this._drawnSize[0]=Hf;this._drawnSize[1]=HM;if(this.markupElemIds.label){var _heightDiff=parseInt(HM+this._labelHeightDiff,10);prop_set(this.markupElemIds.label,'line-height',_heightDiff+'px');if(is.ie6){var _widthDiff=parseInt(Hf+this._labelWidthDiff,10);prop_set(this.markupElemIds.label,'height',_heightDiff+'px');prop_set(this.markupElemIds.label,'width',_widthDiff+'px');}}}}},draw:function(){if(!this.drawn){this.drawRect();this._labelHeightDiff=0;this._labelWidthDiff=0;this.drawMarkup();}
this.refresh();},refresh:function(){if(this.drawn){this.base();if(this.markupElemIds.label){elem_set(this.markupElemIds.label,this.label);}}}});HClickButton=HButton.extend({constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HClickButton]';this.setMouseDown(true);this.setMouseUp(true);this.H1B=false;this.H0X=false;if(!this.isinherited){this.draw();}},focus:function(){if(!this.H1B&&!this.H0X){this.H0X=true;this.H1B=false;}
this.base();},blur:function(){if(!this.H1B){this.H0X=false;}
this.base();},mouseDown:function(x,y,HW){if(this.H0X){this.H1B=true;}
this.base(x,y,HW);},mouseUp:function(x,y,HW){if(this.H0X&&this.H1B){this.H1B=false;this.click(x,y,HW);}
this.base(x,y,HW);},click:function(x,y,HW){this.setValue(this.value+1);if(this.action){this.action();}}});HToggleButton=HClickButton.extend({constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HToggleButton]';if(!this.isinherited){this.draw();}},click:function(x,y,HW){this.setValue(!this.value);},setValue:function(Hh){if(null===Hh||undefined===Hh){Hh=false;}
this.base(Hh);},_updateToggleState:function(){if(this.markupElemIds.control){var Hc=elem_get(this.markupElemIds.control);this.toggleCSSClass(Hc,HToggleButton.cssOn,this.value);this.toggleCSSClass(Hc,HToggleButton.cssOff,!this.value);}},refresh:function(){if(this.drawn){this.base();if(this.markupElemIds.label){elem_set(this.markupElemIds.label,this.label);}
if(this.markupElemIds.control){this._updateToggleState();}}}},{cssOn:"on",cssOff:"off"});HImageButton=HControl.extend({componentName:"imagebutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.styleButtonDefaults=new(Base.extend({image:this.getThemeGfxPath()+"blank.gif",alternateImage:""}).extend(H1));this.H0z=this.getThemeGfxPath()+this.styleButtonDefaults.image;this.H4t=this.getThemeGfxPath()+this.styleButtonDefaults.alternateImage;this.type='[HImageButton]';this.preserveTheme=true;this.setMouseUp(true);if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},_updateImageState:function(){if(!this.value){elem_get(this.H07).src=this.H0z;}else{if(this.H4t){elem_get(this.H07).src=this.H4t;}}},refresh:function(){if(this.drawn){this.base();if(!this.H07){this.H07=this.bindDomElement(HImageButton.H2v+this.elemId);}
if(this.H07){this._updateImageState();}}},mouseUp:function(H8,H9,H03){this.setValue(!this.value);}},{H2v:"imagebutton"});
HCheckbox=HToggleButton.extend({componentName:"checkbox",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HCheckbox]';if(!this.isinherited){this.draw();}}});
HRadiobutton=HToggleButton.extend({componentName:"radiobutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HRadiobutton]';if(!this.isinherited){this.draw();}},setValueMatrix:function(H2P){this.valueMatrix=H2P;this.valueMatrixIndex=this.valueMatrix.addValue(this.valueObj,this.value);},click:function(x,y,HW){this.base(x,y,HW);if(undefined!==this.valueMatrix&&this.valueMatrix instanceof HValueMatrix){this.valueMatrix.setValue(this.valueMatrixIndex);}}});HRadioButton=HRadiobutton;
HStepper=HButton.extend({componentName:"stepper",constructor:function(H0,H4,H1){if(!H1){H1={};}
H1.events={mouseDown:true,keyDown:true,mouseWheel:true};var HJ=Base.extend({minValue:0,value:0,interval:500});HJ=HJ.extend(H1);H1=new HJ();if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.interval=H1.interval;this.type='[HStepper]';this.H1a="stepperlabel";this.border=((H0.bottom-H0.top)/2+H0.top);if(!this.isinherited){this.draw();}},stepUp:function(H3){H3--;H3=(H3<this.minValue)?this.maxValue:H3;this.setValue(H3);},stepDown:function(H3){H3++;H3=(H3>this.maxValue)?this.minValue:H3;this.setValue(H3);},mouseDown:function(H8,H9,H03){this.setMouseUp(true);var temp=this;if(H9<this.border){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}else{this.stepDown(this.value);this.counter=setInterval(function(){temp.stepDown(temp.value);},this.interval);}},mouseUp:function(H8,H9,H03){clearInterval(this.counter);},blur:function(){clearInterval(this.counter);},keyDown:function(Hx){this.setKeyUp(true);var temp=this;if(Hx==Event.KEY_UP){this.stepUp(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}
else if(Hx==Event.KEY_DOWN){this.stepDown(this.value);this.counter=setInterval(function(){temp.stepUp(temp.value);},this.interval);}},keyUp:function(Hx){clearInterval(this.counter);},mouseWheel:function(H0a){if(H0a>0){this.stepUp(this.value);}
else{this.stepDown(this.value);}}});
HSlider=HControl.extend({packageName:"sliders",componentName:"slider",constructor:function(H0,H4,H1){if(!H1){H1={};}
H1.events={mouseDown:false,mouseUp:false,draggable:true,keyDown:true,keyUp:true,mouseWheel:true};var HJ=Base.extend({minValue:0,maxValue:1});HJ=HJ.extend(H1);H1=new HJ();if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HSlider]';this.refreshOnValueChange=false;this.H4f='sliderknob';this.H0x=false;if(!this.isinherited){this.draw();}},setValue:function(H3){if(H3<this.minValue){H3=this.minValue;}
if(H3>this.maxValue){H3=this.maxValue;}
this.base(H3);if(this.H3a){this.drawKnobPos();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.H5O();}
this.refresh();},startDrag:function(H8,H9){var H2=elem_get(this.elemId);var H1d=helmi.Element.getPageLocation(H2,true);this.H5P=H1d[0];this.H5Q=H1d[1];this.doDrag(H8,H9);},endDrag:function(H8,H9){this.doDrag(H8,H9);},doDrag:function(H8,H9){H8-=this.H5P;H9-=this.H5Q;H5R=this.H0x?H9:H8;H3=this.H5M(H5R);this.setValue(H3);},keyDown:function(Hx){if((Hx==Event.KEY_LEFT&&!this.H0x)||(Hx==Event.KEY_UP&&this.H0x)){this.H1V=true;this.H1W(-0.05);}
else if((Hx==Event.KEY_RIGHT&&!this.H0x)||(Hx==Event.KEY_DOWN&&this.H0x)){this.H1V=true;this.H1W(0.05);}
else if(Hx==Event.KEY_HOME){this.setValue(this.minValue);}
else if(Hx==Event.KEY_END){this.setValue(this.maxValue);}
else if(Hx==Event.KEY_PAGEUP){this.H1V=true;this.H1W(-0.25);}
else if(Hx==Event.KEY_PAGEDOWN){this.H1V=true;this.H1W(0.25);}},keyUp:function(Hx){this.H1V=false;},mouseWheel:function(H0a){var H1y;if(H0a>0){H1y=-0.05;}
else{H1y=0.05;}
H3=(this.maxValue-this.minValue)*H1y;this.setValue(this.value+H3);},H1W:function(H1y,H1z){if(!H1z){H1z=300;}
else if(H1z==300){H1z=50;}
if(this.H1V&&this.active){H3=(this.maxValue-this.minValue)*H1y;this.setValue(this.value+H3);var Hw=this;if(this.H3e){window.clearTimeout(this.H3e);this.H3e=null;}
this.H3e=window.setTimeout(function(){Hw.H1W(H1y,H1z);},H1z);}},H5O:function(){this.H3a=this.bindDomElement(this.H4f+this.elemId);this.drawKnobPos();},H39:function(){var Hc=elem_get(this.H3a);if(this.H0x){H4d=this.rect.height-parseInt(Hc.offsetHeight,10);}else{H4d=this.rect.width-parseInt(Hc.offsetWidth,10);}
H3b=H4d*((this.value-this.minValue)/(this.maxValue-this.minValue));H3d=parseInt(H3b,10)+'px';return H3d;},H5M:function(H4e){H0Y=this.H0x?(H4e):(H4e);if(H0Y<0){H0Y=0;}
if(this.H0x){if(H0Y>this.rect.height){H0Y=this.rect.height;}
return this.minValue+((H0Y/this.rect.height)*(this.maxValue-this.minValue));}else{if(H0Y>this.rect.width){H0Y=this.rect.width;}
return this.minValue+((H0Y/this.rect.width)*(this.maxValue-this.minValue));}},drawKnobPos:function(){H5N=this.H0x?'top':'left';H3c=this.H39();prop_set(this.H3a,H5N,H3c);}});HVSlider=HSlider.extend({packageName:"sliders",componentName:"vslider",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HVSlider]';this.H4f='vsliderknob';this.H0x=true;if(!this.isinherited){this.draw();}}});
HStringView=HControl.extend({componentName:"stringview",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HStringView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(this.drawn){this.base();if(!this.H1f){this.H1f=this.bindDomElement("stringview"+this.elemId);}
if(this.H1f){elem_set(this.H1f,this.value);}}},stringElementId:function(){return this.H1f;},optimizeWidth:function(){if(this.H1f){var H5K=elem_get(this.H1f).cloneNode(true);var H2m=elem_add(H5K);prop_set(H2m,"visibility","hidden",true);elem_append(0,H2m);var Hf=this.stringWidth(this.value,null,H2m);if(!isNaN(Hf)){var H5L=prop_get_extra_width(this.H1f);this.resizeTo(Hf+H5L,this.rect.height);}
elem_del(H2m);}}});
HImageView=HControl.extend({componentName:"imageview",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
if(!this.value){this.value=this.getThemeGfxPath()+"blank.gif";}
this.type='[HImageView]';if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(this.drawn){this.base();if(!this.H07){this.H07=this.bindDomElement(HImageView.H2v+this.elemId);}
if(this.H07){elem_get(this.H07).src=this.value;}}},scaleToFit:function(){if(this.H07){prop_set(this.H07,'width',this.rect.width+'px');prop_set(this.H07,'height',this.rect.height+'px');}},scaleToOriginal:function(){if(this.H07){prop_set(this.H07,'width','auto');prop_set(this.H07,'height','auto');}}},{H2v:"imageview"});
HTreeNode=HControl.extend({packageName:"tree",componentName:"treenode",constructor:function(H4,H1T,H1){var H0=new HRect();if(!H1){H1={};}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.setContent(H1T);this.type='[HTreeNode]';this.preserveTheme=true;this.expanded=true;this.selected=false;this.toggleControl=new HTreeNodeToggleControl(this);this.tree=null;this.childNodes=[];this.parent.addChildNode(this);if(!this.isinherited){this.draw();}},setContent:function(H1T){this.content=H1T;if(this.content){this.content.ownerNode=this;this.content.setEvents({mouseDown:false,mouseUp:false,draggable:true,droppable:true});var Hw=this;this.content.startDrag=function(H8,H9){this.actuallyDragging=false;this.canBeDropped=false;if(this.ownerNode.tree.allowNodeDragging){this.base(H8,H9);this.originX=H8;this.originY=H9;}};this.content.doDrag=function(H8,H9){if(this.ownerNode.tree.allowNodeDragging){if(this.actuallyDragging){prop_set(this.dragElemId,'left',(H8-this.originX)+'px');prop_set(this.dragElemId,'top',(H9-this.originY)+'px');}
else{if(H8>this.originX+4||H8<this.originX-4||H9>this.originY+4||H9<this.originY-4){this.actuallyDragging=true;this.canBeDropped=true;this.createDragClone(H8,H9);}}}};this.content.endDrag=function(H8,H9){if(this.ownerNode.tree.allowNodeDragging){this.base(H8,H9);}
if(this.actuallyDragging){this.deleteDragClone();this.actuallyDragging=false;}
else if(this.H0X){this.mouseUp(H8,H9);}};this.content.focus=function(){this.base();this.H0X=true;};this.content.blur=function(){this.base();this.H0X=false;};this.content.createDragClone=function(H8,H9){var H2=elem_get(this.ownerNode.elemId);var H1d=helmi.Element.getPageLocation(H2,true);this.dragElemId=elem_mk(this.appId);prop_set(this.dragElemId,'visibility','hidden',true);var H2l=H2.cloneNode(true);H2l.removeAttribute("id");H2l.innerHTML=H2l.innerHTML.replace(/\s+id="[^"]*"/g,"");this.dragContentElemId=elem_add(H2l);prop_set(this.dragElemId,'opacity',0.50);prop_set(this.dragElemId,'position','absolute',true);prop_set(this.dragElemId,'left',H1d[0]+'px',true);prop_set(this.dragElemId,'top',H1d[1]+'px',true);elem_append(this.dragElemId,this.dragContentElemId);prop_set(this.dragElemId,'z-index',this.app.viewsZOrder.length);prop_set(this.dragElemId,'visibility','visible',true);this.originX=this.originX-H1d[0];this.originY=this.originY-H1d[1];};this.content.deleteDragClone=function(){if(this.dragContentElemId){elem_del(this.dragContentElemId);this.dragContentElemId=null;}
if(this.dragElemId){elem_del(this.dragElemId);this.dragElemId=null;}};this.content.mouseUp=function(H8,H9){this.ownerNode.mouseUp(H8,H9);};this.content.onDrop=function(H00){if(!this.isValidDroppable(H00)||!H00.canBeDropped){return;}
H00.canBeDropped=false;this.ownerNode.setHover(false);H00.ownerNode.moveUnder(this.ownerNode);};this.content.onHoverStart=function(H00){if(!this.isValidDroppable(H00)){return;}
this.ownerNode.setHover(true);};this.content.onHoverEnd=function(H00){if(!this.isValidDroppable(H00)){return;}
this.ownerNode.setHover(false);};this.content.isValidDroppable=function(H00){if(!this.ownerNode.tree.allowNodeDragging||this==H00||!this.ownerNode||!H00.ownerNode||this.ownerNode==H00.ownerNode.parent||this.ownerNode.isDescendantOf(H00.ownerNode)){return false;}
return true;}}},setHover:function(Hh){this.toggleCSSClass(HTreeNode.H38+this.elemId,HTreeNode.cssHover,Hh);},isDescendantOf:function(H0V){if(this.parent==H0V){return true;}
else if(!this.parent.isDescendantOf){return false;}
else{return this.parent.isDescendantOf(H0V);}},hasChildren:function(){return(this.childNodes.length>0);},addChildNode:function(He){if(this.tree&&this.tree!=He.tree){He.setTree(this.tree);}
this.childNodes.push(He);if(this.drawn){He.addDomNode();this.H1e();}
this.tree.childNodeAdded(this,He);},addDomNode:function(){if(!this.drawn){var H2=elem_get(this.elemId);elem_get(this.appId).appendChild(H2);this.draw();this.postDrawBindings();var H5I=elem_get(this.parent.childContainerId);H2=elem_get(this.elemId);H5I.appendChild(H2);this.tree.invalidatePositionCache();}},setTree:function(H36){this.tree=H36;for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].setTree(H36);}},removeChildNode:function(He){He.deselect();He.removeDomNode();He.tree=null;this.childNodes.splice(this.childNodes.indexOf(He),1);this.H1e();this.tree.childNodeRemoved(this,He);},removeFromParent:function(){this.parent.removeChildNode(this);},removeAllChildren:function(){for(var i=this.childNodes.length-1;i>=0;i--){this.childNodes[i].removeAllChildren();this.childNodes[i].removeFromParent();}},removeDomNode:function(){if(this.drawn){var Hc=elem_get(this.elemId);Hc.parentNode.removeChild(Hc);this.tree.invalidatePositionCache();}},collapse:function(){if(!this.expanded){return;}
this.expanded=false;this.H35();},expand:function(){if(this.expanded){return;}
this.expanded=true;this.H35();},H35:function(){if(this.drawn){if(this.expanded){prop_set(this.childContainerId,'display','block');}
else{prop_set(this.childContainerId,'display','none');}
this.H1e();this.tree.invalidatePositionCache();}},collapseAllChildren:function(){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].collapseAllChildren();this.childNodes[i].collapse();}},expandAllChildren:function(){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].expandAllChildren();this.childNodes[i].expand();}},toggle:function(){if(this.expanded){this.collapse();}
else{this.expand();}},H1e:function(){var H4b=this.hasChildren();this.toggleCSSClass(HTreeNode.H37+this.elemId,HTreeNode.cssExpanded,this.expanded&&H4b);this.toggleCSSClass(HTreeNode.H37+this.elemId,HTreeNode.cssCollapsed,!this.expanded&&H4b);},select:function(H1x,HQ){this.tree.selectNode(this,H1x,HQ);},deselect:function(){this.tree.deselectNode(this);},refreshSelectionStatus:function(){if(this.drawn){this.toggleCSSClass(HTreeNode.H38+this.elemId,HTreeNode.cssSelected,this.selected);}},selectAllChildren:function(HQ){if(this.tree.treeType==HTreeControl.H_MULTIPLE_SELECTION_TREE){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].selectAllChildren(HQ);this.childNodes[i].select(true,HQ);}}},deselectAllChildren:function(){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].deselectAllChildren();this.childNodes[i].deselect();}},draw:function(){if(!this.drawn){this.drawMarkup();this.drawn=true;}},drawChildren:function(){var H1S="";for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].draw();H1S+=this.childNodes[i].markup;}
return H1S;},moveUnder:function(H0W){this.deselect();this.parent.removeChildNode(this);if(this.parent.H1e){this.parent.H1e();}
this.remove();H0W.addView(this);H0W.addChildNode(this);if(H0W.drawn){elem_append(H0W.childContainerId,this.elemId);}
if(H0W.H1e){H0W.H1e();}},postDrawBindings:function(){elem_replace(this.elemId,$(HTreeNode.H0F+this.elemId));this.childContainerId=this.bindDomElement(HTreeNode.H5J+this.elemId);this.togglerId=this.bindDomElement(HTreeNode.H37+this.elemId);this.contentId=this.bindDomElement(HTreeNode.H38+this.elemId);if(this.content){this.content.remove();this.addView(this.content);if(this.content.drawn){this.content.refresh();}
else{this.content.draw();}
prop_set(this.content.elemId,'position','relative',true);elem_append(this.contentId,this.content.elemId);if(!this.tree.staticNodeWidth){this.content.optimizeWidth();}}
this.toggleControl.draw();prop_set(this.toggleControl.elemId,'position','relative',true);elem_append(this.togglerId,this.toggleControl.elemId);this.H35();this.refreshSelectionStatus();this.setEnabled(false);for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].postDrawBindings();}},importJSON:function(H01,H0r,H0){if(!this.tree){return;}
this.tree.importJSON(H01,H0r,H0,this);},mouseUp:function(H8,H9){var H4c=HEventManager.events[HEventManager.HStatusCtrlKey];var H1x=(this.tree.treeType==HTreeControl.H_MULTIPLE_SELECTION_TREE)&&H4c;if(H1x){if(this.selected){this.deselect();}
else{this.select(true);}}
else{if(this.selected&&H4c){this.tree.deselectAllNodes();}
else{this.select(false);}}}},{cssSelected:"selected",cssExpanded:"expanded",cssCollapsed:"collapsed",cssHover:"hovering",H37:"treenodetoggler",H38:"treenodecontent",H5J:"treenodechildren",H0F:"treenode"});HTreeNodeToggleControl=HControl.extend({constructor:function(H4){var H0=new HRect();var H1={events:{mouseDown:true,mouseUp:false,draggable:false,droppable:false}};this.base(H0,H4,H1);},mouseDown:function(H8,H9){if(this.parent.hasChildren()){this.parent.toggle();}}});HTreeControl=HControl.extend({packageName:"tree",componentName:"treecontrol",constructor:function(H0,H4,H1){if(!H1){H1={};}
H1.events={mouseDown:false,mouseUp:false,draggable:false};var HJ=Base.extend({staticNodeWidth:false,allowNodeDragging:false,treeType:HTreeControl.H_SINGLE_SELECTION_TREE});this.options=new(HJ.extend(H1))();if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTreeControl]';this.preserveTheme=true;this.childNodes=[];this.setTreeType(this.options.treeType);this.selectedNodes=[];this.setStaticNodeWidth(this.options.staticNodeWidth);this.allowNodeDragging=this.options.allowNodeDragging;if(!this.isinherited){this.draw();}},expandAll:function(){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].expandAllChildren();this.childNodes[i].expand();}},collapseAll:function(){for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].collapseAllChildren();this.childNodes[i].collapse();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.childContainerId=this.bindDomElement(HTreeControl.H0F+this.elemId);for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].postDrawBindings();}
var Hw=this;Event.observe(elem_get(this.childContainerId),'scroll',function(e){if(Hw.H34){window.clearTimeout(Hw.H34);Hw.H34=null;}
Hw.H34=window.setTimeout(function(){Hw.invalidatePositionCache();},300);},false);this.drawn=true;}},drawChildren:function(){var H1S="";for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].draw();H1S+=this.childNodes[i].markup;}
return H1S;},setTreeType:function(H0U){if(this.treeType==HTreeControl.H_MULTIPLE_SELECTION_TREE&&H0U==HTreeControl.H_SINGLE_SELECTION_TREE&&this.selectedNodes.length>0){var H5F=this.selectedNodes[this.selectedNodes.length-1];this.deselectAllNodes();this.selectNode(H5F);}
this.treeType=H0U;},selectNode:function(He,H1x,HQ){var H0k=false;if(this.treeType==HTreeControl.H_SINGLE_SELECTION_TREE||!H1x){H0k=this.deselectAllNodesExcept(He,true);}
if(!this.isSelectedNode(He)){He.selected=true;He.setValue("mouseUp");this.selectedNodes.push(He);He.refreshSelectionStatus();H0k=true;}
if(!HQ&&H0k){this.selectionChanged();}},deselectNode:function(He,HQ){if(this.isSelectedNode(He)){He.selected=false;He.setValue("");this.selectedNodes.splice(this.selectedNodes.indexOf(He),1);He.refreshSelectionStatus();if(!HQ){this.selectionChanged();}}},selectAllNodes:function(){if(this.treeType==HTreeControl.H_MULTIPLE_SELECTION_TREE){var H0k=this.childNodes.length>0&&(this.selectedNodes.length!=this.childNodes.length);for(var i=0;i<this.childNodes.length;i++){this.childNodes[i].selectAllChildren(true);this.childNodes[i].select(true,true);}
if(H0k){this.selectionChanged();}}},deselectAllNodes:function(HQ){var H0k=(this.selectedNodes.length>0);var H5G=!HQ&&H0k;while(this.selectedNodes.length>0){this.deselectNode(this.selectedNodes[0],true);}
if(H5G){this.selectionChanged();}
return H0k;},deselectAllNodesExcept:function(He,HQ){var H0k=false;if(!this.isSelectedNode(He)){H0k=this.deselectAllNodes(HQ);}
else{this.selectedNodes.splice(this.selectedNodes.indexOf(He),1);H0k=this.deselectAllNodes(HQ);this.selectedNodes.splice(0,0,He);}
return H0k;},selectedNode:function(){if(this.selectedNodes.length>0){return this.selectedNodes[0];}
return null;},isSelectedNode:function(He){return(this.selectedNodes.indexOf(He)>-1);},removeAllNodes:function(){for(var i=this.childNodes.length-1;i>=0;i--){this.childNodes[i].removeAllChildren();this.childNodes[i].removeFromParent();}},importJSON:function(H01,H0r,H0,H02){if(typeof(H0r)=="undefined"||H0r==null){H0r=HStringView;}
if(typeof(H0)=="undefined"||H0==null){H0=new HRect();}
if(typeof(H02)=="undefined"||H02==null){H02=this;}
this.H4a(H01,H0r,H02,H0);},H4a:function(H01,H0r,HD,H0){var l=H01.length;for(var i=0;i<l;i++){var H7=new H0r(H0,this.app);for(var H1c in H01[i]){if(H1c!="children"){var H2k=H1c.substring(0,1).toUpperCase()+
H1c.substring(1,H1c.length);H2k="set"+H2k;if(eval("H7."+H2k)){eval("H7."+H2k+"(H01[i][H1c])");}
else{H7[H1c]=H01[i][H1c];}}}
var H5H=new HTreeNode(HD,H7);this.H4a(H01[i].children,H0r,H5H,H0);}},setStaticNodeWidth:function(Hh){this.staticNodeWidth=Hh;},hasChildren:function(){return(this.childNodes.length>0);},addChildNode:function(He){He.setTree(this);this.childNodes.push(He);if(this.drawn){He.addDomNode();}
this.childNodeAdded(this,He);},removeChildNode:function(He){He.deselect();He.removeDomNode();He.tree=null;this.childNodes.splice(this.childNodes.indexOf(He),1);this.childNodeRemoved(this,He);},selectionChanged:function(){},childNodeAdded:function(H02,H33){},childNodeRemoved:function(H02,H33){}},{H_SINGLE_SELECTION_TREE:0,H_MULTIPLE_SELECTION_TREE:1,H0F:"treecontrol"});
HWindowLabel=HButton.extend({packageName:"window",componentName:"windowlabel",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(!H1.events){H1.events={};}
if(!H1.events.draggable){H1.events.draggable=true;}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HWindowLabel]';if(!this.isinherited){this.draw();}},gainedActiveStatus:function(H0A){HEventManager.changeActiveControl(this.parent.parent);},startDrag:function(H8,H9){this.parent.parent.startDrag(H8,H9);},doDrag:function(H8,H9){this.parent.parent.doDrag(H8,H9);},endDrag:function(H8,H9){this.parent.parent.endDrag(H8,H9);}});HWindowBar=HButton.extend({packageName:"window",componentName:"windowbar",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(!H1.events){H1.events={};}
if(!H1.events.draggable){H1.events.draggable=true;}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HWindowBar]';if(!this.isinherited){this.draw();}},setLabel:function(HB){this.label=HB;if(this.parent.windowLabel){this.parent.windowLabel.setLabel(HB);}},startDrag:function(H8,H9){this.parent.startDrag(H8,H9);},doDrag:function(H8,H9){this.parent.doDrag(H8,H9);},endDrag:function(H8,H9){this.parent.endDrag(H8,H9);}});HWindowView=HView.extend({packageName:"window",componentName:"windowview",constructor:function(H0,H4){if(this.isinherited){this.base(H0,H4);}
else{this.isinherited=true;this.base(H0,H4);this.isinherited=false;}
this.type='[HWindowView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawMarkup();var H1h=this.bindDomElement(HWindowView.H0F+this.elemId);if(!H1h){throw("HWindowView: The HTML template must have an element with "+"the ID '"+HWindowView.H0F+" + this.elemId'.");}
elem_append(this.parent.elemId,H1h);elem_append(0,this.elemId);elem_del(this.elemId);elem_replace(this.elemId,elem_get(H1h));}
this.drawRect();}},{H0F:"windowview"});HWindowControl=HControl.extend({packageName:"window",componentName:"windowcontrol",constructor:function(H0,H4,H1){if(!H1){H1={};}
var HJ=Base.extend({minSize:[64,32],maxSize:[4096,3072],barHeight:21,resizeW:4,resizeE:4,resizeN:4,resizeS:4,resizeNW:[4,4],resizeNE:[4,4],resizeSW:[4,4],resizeSE:[16,16],menuBar:null});H1=new(HJ.extend(H1))();if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HWindowControl]';this.preserveTheme=true;this.H3h();this.setDraggable(true);this.drawRect();this.drawMarkup();this.H2p();this.windowBar=new HWindowBar(this.Hn.windowBarRect,this,{label:this.label});this.windowBar.draw();this.windowLabel=new HWindowLabel(this.Hn.windowLabelRect,this.windowBar,{label:this.label});this.windowLabel.draw();this.windowView=new HWindowView(this.Hn.windowViewRect,this);this.windowView.draw();this.setLabel(this.label);if(H1.menuBar){this.setMenuBar(H1.menuBar);}
if(!this.isinherited){this.draw();}},H3h:function(){this.Hn={dragWindow:false,resizeW:false,resizeE:false,resizeN:false,resizeS:false,resizeNW:false,resizeNE:false,resizeSW:false,resizeSE:false,dragWindowRect:new HRect(this.options.resizeW,this.options.resizeN,this.rect.width-this.options.resizeE,this.options.barHeight+this.options.resizeN),resizeNRect:new HRect(this.options.resizeW,0,this.rect.width-this.options.resizeE,this.options.resizeN),resizeSRect:new HRect(this.options.resizeW,this.rect.height-this.options.resizeS,this.rect.width-this.options.resizeE,this.rect.height),resizeWRect:new HRect(0,this.options.resizeN,this.options.resizeW,this.rect.height-this.options.resizeS),resizeERect:new HRect(this.rect.width-this.options.resizeE,this.options.resizeN,this.rect.width,this.rect.height-this.options.resizeS),resizeNWRect:new HRect(0,0,this.options.resizeNW[0],this.options.resizeNW[1]),resizeNERect:new HRect(this.rect.width-this.options.resizeNE[0],0,this.rect.width,this.options.resizeNE[1]),resizeSWRect:new HRect(0,this.rect.height-this.options.resizeSW[1],this.options.resizeSW[0],this.rect.height),resizeSERect:new HRect(this.rect.width-this.options.resizeSE[0],this.rect.height-this.options.resizeSE[1],this.rect.width,this.rect.height)};},H4k:function(){var H4l=this.Hn.resizeW||this.Hn.resizeSW||this.Hn.resizeNW;var H4m=this.Hn.resizeN||this.Hn.resizeNE||this.Hn.resizeNW;if(this.rect.width<this.options.minSize[0]){if(H4l){this.rect.left=this.rect.right-this.options.minSize[0];}
this.rect.setWidth(this.options.minSize[0]);}else if(this.rect.width>this.options.maxSize[0]){if(H4l){this.rect.left=this.rect.right-this.options.maxSize[0];}
this.rect.setWidth(this.options.maxSize[0]);}
if(this.rect.height<this.options.minSize[1]){if(H4m){this.rect.top=this.rect.bottom-this.options.minSize[1];}
this.rect.setHeight(this.options.minSize[1]);}else if(this.rect.height>this.options.maxSize[1]){if(H4m){this.rect.top=this.rect.bottom-this.options.maxSize[1];}
this.rect.setHeight(this.options.maxSize[1]);}
var H3i=0-this.options.resizeW;if(this.rect.left<H3i){this.rect.left=H3i;this.rect.right=this.rect.width+H3i;}
var H3j=0-this.options.resizeN;if(this.rect.top<H3j){this.rect.top=H3j;this.rect.bottom=this.rect.height+H3j;}},startDrag:function(H8,H9){this.H0S=new HPoint(H8,H9);this.H1R=new HPoint(H8,H9);this.H1Y=new HRect(this.rect);this.H3h();var H0y=this.H0S.subtract(this.H1Y.leftTop);if(this.Hn.resizeNWRect.contains(H0y)){this.HK=H0y;this.Hn.resizeNW=true;}else if(this.Hn.resizeNERect.contains(H0y)){this.HK=this.H0S.subtract(this.H1Y.rightTop);this.Hn.resizeNE=true;}else if(this.Hn.resizeSWRect.contains(H0y)){this.HK=this.H0S.subtract(this.H1Y.leftBottom);this.Hn.resizeSW=true;}else if(this.Hn.resizeSERect.contains(H0y)){this.HK=this.H0S.subtract(this.H1Y.rightBottom);this.Hn.resizeSE=true;}else if(this.Hn.resizeNRect.contains(H0y)){this.HK=H9-this.rect.top;this.Hn.resizeN=true;}else if(this.Hn.resizeSRect.contains(H0y)){this.HK=H9-this.rect.bottom;this.Hn.resizeS=true;}else if(this.Hn.resizeWRect.contains(H0y)){this.HK=H8-this.rect.left;this.Hn.resizeW=true;}else if(this.Hn.resizeERect.contains(H0y)){this.HK=H8-this.rect.right;this.Hn.resizeE=true;}else if(this.Hn.dragWindowRect.contains(H0y)){this.HK=this.H0S.subtract(this.H1Y.leftTop);this.Hn.dragWindow=true;}
this.bringToFront();this.doDrag(H8,H9);},doDrag:function(H8,H9){var Ht;var H0p=new HPoint(H8,H9);if(!this.H1R.equals(H0p)){if(this.Hn.resizeNW==true){Ht=H0p.subtract(this.HK);this.rect.setLeftTop(Ht);}else if(this.Hn.resizeNE==true){Ht=H0p.subtract(this.HK);this.rect.setRightTop(Ht);}else if(this.Hn.resizeSW==true){Ht=H0p.subtract(this.HK);this.rect.setLeftBottom(Ht);}else if(this.Hn.resizeSE==true){Ht=H0p.subtract(this.HK);this.rect.setRightBottom(Ht);}else if(this.Hn.resizeN==true){Ht=H9-this.HK;this.rect.top=Ht;this.rect.updateSecondaryValues();}else if(this.Hn.resizeS==true){Ht=H9-this.HK;this.rect.bottom=Ht;this.rect.updateSecondaryValues();}else if(this.Hn.resizeW==true){Ht=H8-this.HK;this.rect.left=Ht;this.rect.updateSecondaryValues();}else if(this.Hn.resizeE==true){Ht=H8-this.HK;this.rect.right=Ht;this.rect.updateSecondaryValues();}else if(this.Hn.dragWindow==true){Ht=H0p.subtract(this.HK);this.rect.offsetTo(Ht);}
this.H4k();this.setStyle('left',this.rect.left+'px',true);this.setStyle('top',this.rect.top+'px',true);this.setStyle('width',this.rect.width+'px',true);this.setStyle('height',this.rect.height+'px',true);if(this.Hn.dragWindow==false){this.H2p();}
this.H1R=H0p;}},endDrag:function(H8,H9){this.doDrag(H8,H9);},H2p:function(){var H2q=new HRect(this.options.resizeW,this.options.resizeN,this.rect.width-this.options.resizeE,this.options.barHeight+this.options.resizeN);var H4n=new HRect(0,0,H2q.width,H2q.height);var H1Z=new HRect(this.options.resizeW,this.options.resizeN+this.options.barHeight,this.rect.width-this.options.resizeE,this.rect.height-this.options.resizeS);if(this.menuBar){var H2s=this.options.menuBarHeight;if(H2s+this.options.resizeN+this.options.barHeight>this.rect.height-this.options.resizeS){H2s=this.rect.height-this.options.barHeight-
this.options.resizeS-this.options.resizeN;}
H1Z.setTop(H1Z.top+H2s);this.menuBar.resizeTo(H1Z.width,H2s);}
if(!this.Hn.windowBarRect){this.Hn.windowBarRect=H2q;this.Hn.windowLabelRect=H4n;this.Hn.windowViewRect=H1Z;}else{this.windowBar.setRect(H2q);this.windowLabel.setRect(H4n);this.windowView.setRect(H1Z);}},draw:function(){this.drawRect();},setLabel:function(HB){if(this.drawn){this.windowLabel.setLabel(HB);}
this.base(HB);},refresh:function(){if(this.windowBar){this.windowBar.refresh();}
this.drawRect();},setMenuBar:function(H2r){if(H2r==this.menuBar){return;}
if(this.menuBar){this.menuBar.die();}
this.menuBar=H2r;if(H2r){this.options.menuBarHeight=this.menuBar.rect.height;this.menuBar.remove();this.addView(this.menuBar);elem_append(this.elemId,this.menuBar.elemId);this.menuBar.moveTo(this.windowView.rect.left,this.windowBar.rect.bottom);}
this.H2p();}});HWindow=HWindowControl;
HTabLabel=HButton.extend({packageName:"tab",componentName:"tablabel",constructor:function(H0,H4,H1){if(!H1){var H1={};}
if(!H1.label){throw("HTabLabelConstructionError: No label specified!");}
if(null===H1.tabId||undefined===H1.tabId){throw("HTabLabelConstructionError: No id specified!");}
if(!H1.tabControl){throw("HTabLabelConstructionError: No control specified!");}
if(!H1.highlight){H1.highlight=false;}
if(!H1.events){H1.events={mouseDown:true};}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTabLabel]';this._tmplHighlightPrefix="tabhighlight";this.tabControl=H1.tabControl;this.tabId=H1.tabId;this.setHighlight(H1.highlight);if(!this.isinherited){this.draw();}},setHighlight:function(Hh){this.highlight=Hh;if(Hh){this.tabControl.selectTab(this.tabId);}
this.refresh();},mouseDown:function(H8,H9,H6L){if(this.tabControl&&!this.highlight){this.setHighlight(true);}},setValue:function(H3){this.base(H3);if(this.value&&this.tabControl){this.tabControl.selectTab(this.tabId);}},refresh:function(){if(this.drawn){this.base();if(!this._highlightElementId){this._highlightElementId=this.bindDomElement(this._tmplHighlightPrefix+this.elemId);}
if(this._highlightElementId){var H4g=(prop_get(this._highlightElementId,'visibility')=='hidden');if(H4g&&this.highlight){prop_set(this._highlightElementId,'visibility','',true);}
else if(!H4g&&!this.highlight){prop_set(this._highlightElementId,'visibility','hidden',true);}}}}});HTabBar=HView.extend({packageName:"tab",componentName:"tabbar",constructor:function(H0,H4){if(this.isinherited){this.base(H0,H4);}
else{this.isinherited=true;this.base(H0,H4);this.isinherited=false;}
this.type='[HTabBar]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.drawRect();}});HTabView=HView.extend({packageName:"tab",componentName:"tabview",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTabView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawMarkup();var H1h=this.bindDomElement(HTabView.H0F+this.elemId);if(!H1h){throw("HTabView: The HTML template must have an element with "+"the ID '"+HTabView.H0F+" + this.elemId'.");}
elem_append(this.parent.elemId,H1h);elem_append(0,this.elemId);elem_del(this.elemId);elem_replace(this.elemId,elem_get(H1h));}
this.drawRect();}},{H0F:"tabview"});HTabControl=HControl.extend({packageName:"tab",componentName:"tabcontrol",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.tabDefaults=new(Base.extend({label:'Untitled',labelHeight:21,labelWidth:192}).extend(H1));this.type='[HTabControl]';this.preserveTheme=true;this.tabs={};this.H04=[];this.H5T=true;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){var H0=this.rect;var H5U=new HRect(0,0,H0.width,this.tabDefaults.labelHeight);this.labelViews=new HTabBar(H5U,this);this.labelViews.draw();this.H0G=0;var H5V=0;var H5W=this.tabDefaults.labelHeight;var H5X=H0.width;var H5Y=(H0.height-this.tabDefaults.labelHeight);var H1A=new HRect(H5V,H5W,H5X,H5Y);this.tabDefaults.rect=new HRect(0,0,H1A.width,H1A.height);this.tabViews=new HView(H1A,this);this.tabViews.draw();this.activeTab=-1;this.drawn=true;}
this.drawRect();},addTab:function(H0Z,H3f,HB,H4h){if(this.H5T){this.draw();}
if(!H0Z){var H5Z=this.tabDefaults.rect;H0Z=new HTabView(H5Z,this.tabViews);H0Z.draw();}
if(!HB){var HB=this.tabDefaults.label;}
H0Z.hide();if(this.H04.length==0){H3f=true;}
var H1g=H0Z.viewId;this.tabs[H1g]=H0Z;this.H04.push(H1g);var H1X=this.H0G;this.H0G+=H4h;var H60=this.H0G;this.H0G--;var H3g=new HRect(H1X,0,H60,this.tabDefaults.labelHeight);var H5S={label:HB,tabId:H1g,tabControl:this,highlight:false};var H4i=new HTabLabel(H3g,this.labelViews,H5S);var H4j=H4i.viewId;H4i.draw();if(H4j!=H1g){throw("HTabControlAddTabError: tabId Mismatch ("+H4j+" vs. "+
H1g+")");}
if(H3f){this.selectTab(H1g);}
this.refresh();return H1g;},H61:function(){if(this.H04.length==0){this.H0G=0;}
var H1X=0;for(var i=0;i<this.H04.length;i++){var HB=this.labelViews.views[this.H04[i]];this.H0G=H1X+HB.rect.width;var H3g=new HRect(H1X,HB.rect.top,this.H0G,HB.rect.bottom);this.labelViews.views[this.H04[i]].setRect(H3g);this.H0G--;H1X=this.H0G;}},removeTab:function(H0l){if(this.tabs[H0l]instanceof HTabView){if(this.activeTab==H0l){if(!this.selectPreviousTab()){if(!this.selectNextTab()){this.activeTab=-1;}}}
this.tabViews.destroyView(H0l);this.labelViews.destroyView(H0l);this.tabs[H0l]=null;var H0H=this.H04.indexOf(H0l);this.H04.splice(H0H,1);this.H61();}},removeSelectedTab:function(){this.removeTab(this.activeTab);},selectNextTab:function(){var H0H=this.H04.indexOf(this.activeTab);if(H0H<this.H04.length-1){return this.selectTab(this.H04[H0H+1]);}
return false;},selectPreviousTab:function(){var H0H=this.H04.indexOf(this.activeTab);if(H0H>0){return this.selectTab(this.H04[H0H-1]);}
return false;},selectTab:function(H0l){if(this.activeTab!=H0l){var H0H=this.H04.indexOf(H0l);if(H0H>-1){if(this.activeTab!=-1){this.tabViews.views[this.activeTab].setStyle('display','none');this.tabViews.views[this.activeTab].hide();this.labelViews.views[this.activeTab].setHighlight(false);}
this.activeTab=H0l;this.tabViews.views[this.activeTab].setStyle('display','block');this.tabViews.views[this.activeTab].show();this.labelViews.views[this.activeTab].setHighlight(true);return true;}}
return false;},numberOfTabs:function(){return this.H04.length;}});HTab=HTabControl;
HMenuItem=HControl.extend({packageName:"menus",componentName:"menuitem",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(typeof H1!="object"){throw('MenuItemConstructorError: H1 must be an object');}
var _hasValueObj=true;if(!H1.valueObj){_hasValueObj=false;}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HMenuItem]';this.H5x="menuitemleftimage";this.H5y="menuitemrightimage";this.preserveTheme=true;this.marked=false;this.setMouseDown(true);this.setMouseUp(true);this.refreshOnValueChange=true;if(H4.type=="[HMenu]"||H4.type=="[HMenuBar]"||H4.type=="[HPopupMenu]"){if(!H1){H1={};}
H4.addItem(this,H1.index);}
if(!this.isinherited){this.draw();}},H5z:function(){if(this.value){this.toggleCSSClass(elem_get(this.H1u),this.cssOn,true);this.toggleCSSClass(elem_get(this.H1u),this.cssOff,false);}else{this.toggleCSSClass(elem_get(this.H1u),this.cssOn,false);this.toggleCSSClass(elem_get(this.H1u),this.cssOff,true);}},H5A:function(){if(this.leaf){this.toggleCSSClass(elem_get(this.H1v),this.cssRightOn,true);this.toggleCSSClass(elem_get(this.H1v),this.cssRightOff,false);}else{this.toggleCSSClass(elem_get(this.H1v),this.cssRightOn,false);this.toggleCSSClass(elem_get(this.H1v),this.cssRightOff,true);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(this.drawn){if(this.markupElemIds.label){elem_set(this.markupElemIds.label,this.label);}
if(!this.H1u){this.H1u=this.bindDomElement(this.H5x+this.elemId);}
if(this.H1u&&!this.leaf){this.H5z();}
if(!this.H1v){this.H1v=this.bindDomElement(this.H5y+this.elemId);}
if(this.H1v&&this.menu&&this.menu.type=="[HMenu]"){this.H5A();}}},H43:function(H5B){this.leaf=H5B;},stringWidth:function(H0T,HX){return this.base(H0T,HX)+
prop_get_extra_width(this.markupElemIds.label);},setMarked:function(H3){this.marked=H3;this.setValue(H3);},lostActiveStatus:function(HE){if(this.menu.hideMenu){this.menu.hideMenu();}},cssOn:"leftimageOn",cssOff:"leftimage",cssRightOn:"rightimageOn",cssRightOff:"rightimage"}).extend(HValueMatrixComponentExtension).extend({mouseDown:function(H8,H9,H03){if(this.menu.radioMode){this.base(H8,H9,H03);}},mouseUp:function(H8,H9,H03){if(this.action){this.action();}
if(this.menu.radioMode){this.base(H8,H9,H03);}
if(this.menu.mouseUpOnMenuItem){this.menu.mouseUpOnMenuItem(this);}}});HMenu=HControl.extend({packageName:"menus",componentName:"menu",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HMenu]';this.preserveTheme=true;this.menuItems=[];this.H0q={itemHeight:21,menuOffset:-5};this.totalHeight=0;if(!this.isinherited){this.draw();}},draw:function(){this.base();this.H5C();this.drawRect();},hide:function(){var i,H7,l=this.menuItems.length;for(i=0;i<l;i++){H7=this.menuItems[i];if(H7!=this&&H7.leaf){H7.leaf.hide();}}
this.base();},H31:function(){var i,H7,l=this.menu.menuItems.length;var Hb;for(i=0;i<l;i++){H7=this.menu.menuItems[i];if(H7!=this&&H7.leaf){H7.leaf.hide();}else if(H7==this){Hb=i;}}
if(this.leaf){this.leaf.rect.left=this.menu.rect.left+this.menu.rect.width+
this.menu.H0q.menuOffset;this.leaf.rect.top=this.menu.rect.top+
(Hb*this.menu.H0q.itemHeight);this.leaf.setStyle("left",this.leaf.rect.left+"px");this.leaf.setStyle("top",this.leaf.rect.top+"px");this.leaf.bringToFront();this.leaf.show();}},addItem:function(H7,Hb){if(H7.type=="[HMenu]"){var H06=H7;H06.hide();H7=new HMenuItem(new HRect(0,0,0,0),this,H7.options);H06.superitem=H7;H7.H43(H06);}else{H7.menu=this;if(Hb!==undefined){this.menuItems.splice(Hb,0,H7);}else{this.menuItems.push(H7);}}
H7.focus=this.H31;if(this.valueMatrix){this.H44(H7);}
this.draw();},hideMenu:function(){var H06=this;while(H06.superitem){if(H06.superitem.menu.type=="[HMenuBar]"){H06.superitem.menu.H1w=false;break;}
H06=H06.superitem.menu;}
H06.hide();},removeItem:function(Hg){if(typeof Hg=="number"){var H7=this.menuItems[Hg];if(H7){return(this.removeItem(H7))?H7:null;}else{return null;}}else if(Hg.type=="[HMenuItem]"){var Hb=this.menuItems.indexOf(Hg);if(Hb>=0){var H7=this.menuItems[Hb];H7.focus=undefined;H7.menu=undefined;this.menuItems.splice(Hb,1);this.draw();return true;}else{return false;}}else if(Hg.type=="[HMenu]"){if(Hg.superitem){return Hg.superitem.menu.removeItem(Hg.superitem);}else{return false;}}},H5C:function(){this.totalHeight=0;var i,H7,l=this.menuItems.length;for(i=0;i<l;i++){var H7=this.menuItems[i];H7.rect.set(0,this.totalHeight,100,this.totalHeight+this.H0q.itemHeight);this.totalHeight=this.totalHeight+this.H0q.itemHeight;H7.draw();}
var H2h=0;for(i=0;i<l;i++){var H7=this.menuItems[i];var Hf=H7.stringWidth(H7.label)
if(Hf>H2h){H2h=Hf;}}
for(i=0;i<l;i++){var H7=this.menuItems[i];H7.rect.setWidth(H2h);H7.drawRect();}
this.rect.set(this.rect.left,this.rect.top,this.rect.left+H2h,this.rect.top+this.totalHeight);},setRadioMode:function(H45,H1b){this.radioMode=H45;if(H45){this.valueMatrix=new HValueMatrix();H1b=(H1b||new HValue('menuDummy'+this.elemId,-1));H1b.bind(this.valueMatrix);H1b.bind(this);var i,H7,l=this.menuItems.length;for(i=0;i<l;i++){var H7=this.menuItems[i];this.H44(H7);}}},H44:function(H7){if(H7.type=="[HMenuItem]"&&!H7.leaf){H7.setValueMatrix(this.valueMatrix);}},indexOfItem:function(H7){return this.menuItems.indexOf(H7);},mouseUpOnMenuItem:function(H7){this.hideMenu();}});HMenuBar=HControl.extend({packageName:"menus",componentName:"menubar",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HMenuBar]';this.preserveTheme=true;this.menuItems=[];this.H0q={itemWidth:100,itemHeight:21};this.setMouseDown(true);this.totalWidth=0;this.H1w=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.arrangeMenuItems();this.drawRect();},hide:function(){var i,H7,l=this.menuItems.length;for(i=0;i<l;i++){H7=this.menuItems[i];if(H7!=this&&H7.leaf){H7.leaf.hide();}}
this.base();},H31:function(){if(this.menu.H1w==false){return;}
var i,H7,l=this.menu.menuItems.length;var Hb;for(i=0;i<l;i++){H7=this.menu.menuItems[i];if(H7!=this&&H7.leaf){H7.leaf.hide();}else if(H7==this){Hb=i;}}
if(this.leaf){var Hf=0;for(i=0;i<Hb;i++){Hf+=this.menu.menuItems[i].rect.width;}
this.leaf.rect.left=this.menu.pageX()+Hf;this.leaf.rect.top=this.menu.pageY()+
this.menu.H0q.itemHeight;this.leaf.setStyle("left",this.leaf.rect.left+"px");this.leaf.setStyle("top",this.leaf.rect.top+"px");this.leaf.bringToFront();this.leaf.show();}},H5E:function(){if(this.leaf){if(this.menu.H1w==false){var Hf=0;for(i=0;i<this.menu.menuItems.length;i++){if(this.menu.menuItems[i]==this){break;}
Hf+=this.menu.menuItems[i].rect.width;}
this.leaf.rect.left=this.menu.pageX()+Hf;this.leaf.rect.top=this.menu.pageY()+
this.menu.H0q.itemHeight;this.leaf.setStyle("left",this.leaf.rect.left+"px");this.leaf.setStyle("top",this.leaf.rect.top+"px");this.leaf.bringToFront();this.leaf.show();}else{this.leaf.hide();}}
if(this.menu.H1w==false){this.menu.H1w=true;}else{this.menu.H1w=false;}},addItem:function(H7,Hb){if(H7.type=="[HMenu]"){var H06=H7;H06.hide();H7=new HMenuItem(new HRect(0,0,100,48),this,H7.options);H06.superitem=H7;H7.H43(H06);}else{H7.menu=this;if(Hb!==undefined){this.menuItems.splice(Hb,0,H7);}else{this.menuItems.push(H7);}}
H7.focus=this.H31;H7.setMouseDown(true);H7.mouseDown=this.H5E;this.draw();},removeItem:function(Hg){if(typeof Hg=="number"){var H7=this.menuItems[Hg];if(H7){return(this.removeItem(H7))?H7:null;}else{return null;}}else if(Hg.type=="[HMenuItem]"){var Hb=this.menuItems.indexOf(Hg);if(Hb>=0){var H7=this.menuItems[Hb];H7.die();H7.focus=undefined;H7.menu=undefined;this.menuItems.splice(Hb,1);this.draw();return true;}else{return false;}}else if(Hg.type=="[HMenu]"){if(Hg.superitem){return Hg.superitem.menu.removeItem(Hg.superitem);}else{return false;}}},arrangeMenuItems:function(){this.totalWidth=0;var i,l=this.menuItems.length;for(i=0;i<l;i++){var _menuItem=this.menuItems[i];var _menuItemRectLeft=this.totalWidth;var _menuItemRectRight=this.totalWidth+this.H0q.itemWidth;var _menuItemRectBottom=this.H0q.itemHeight;_menuItem.setRect(new HRect(_menuItemRectLeft,0,_menuItemRectRight,_menuItemRectBottom));this.totalWidth=this.totalWidth+this.H0q.itemWidth;_menuItem.draw();}
var _stringWidth=0,_itemWidth=0;for(i=0;i<l;i++){var _menuItem=this.menuItems[i];_stringWidth=_menuItem.stringWidth(_menuItem.label);_menuItem.rect.setLeft(_itemWidth);_itemWidth+=_stringWidth;_menuItem.rect.setWidth(_stringWidth);_menuItem.drawRect();}
var HU=this.rect.left+_itemWidth;this.rect.setRight(HU);var HY=this.rect.top+this.H0q.itemHeight;this.rect.setBottom(HY);this.drawRect();}});HPopupButton=HButton.extend({packageName:"menus",componentName:"popupbutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HPopupButton]';if(H1.popupMenu){this.popupmenu=H1.popupMenu;this.popupmenu.popupbutton=this;this.popupmenu.hide();this.popupmenu.setOwner(this);}
this.setMouseDown(true);if(!this.isinherited){this.draw();}},mouseDown:function(x,y,HW){if(this.popupmenu.isHidden){this.popupmenu.rect.left=this.pageX();this.popupmenu.rect.top=this.pageY()+this.rect.height;this.popupmenu.setStyle("left",this.popupmenu.rect.left+"px");this.popupmenu.setStyle("top",this.popupmenu.rect.top+"px");this.popupmenu.bringToFront();this.popupmenu.show();}else{this.popupmenu.hide();}},lostActiveStatus:function(HE){if(!HE||this.popupmenu.indexOfItem(HE)==-1){this.popupmenu.hide();}},selectedIndexChanged:function(){}});HPopUpButton=HPopupButton;HPopupMenu=HMenu.extend({packageName:"menus",componentName:"popupmenu",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HPopupMenu]';this.preserveTheme=true;this.selectedIndex=-1;this.selectedItem=null;this.owner=null;if(!this.isinherited){this.draw();}
if(H1.choices instanceof Array){for(var i=0;i<H1.choices.length;i++){var H7=H1.choices[i];if(null===H7.enabled||undefined===H7.enabled){H7.enabled=true;}
var _newMenuItem=new HMenuItem(new HRect(0,0,0,18),this,{label:H7.label,value:H7.value,enabled:H7.enabled});}}},H5D:function(H32){var H2i;if(!H32){H2i="";}
else{H2i=H32.label;}
if(this.popupbutton.type=="[HPopupButton]"){this.popupbutton.setLabel(H2i);}else if(this.popupbutton.type=="[HTextControl]"){this.popupbutton.setValue(H2i);}
if(!this.radioMode){this.setValue(H32.value);}},setOwner:function(H0v){this.owner=H0v;},selectItem:function(H7){this.selectedItem=H7;var Hb=this.menuItems.indexOf(H7);this.selectItemAtIndex(Hb);},selectItemAtIndex:function(Hb){if(Hb!=this.selectedIndex){this.selectedIndex=Hb;this.H5D(this.menuItems[Hb]);this.selectedIndexChanged();}},selectedIndexChanged:function(){if(this.owner&&this.owner.selectedIndexChanged){this.owner.selectedIndexChanged();}},mouseUpOnMenuItem:function(H7){this.selectItem(H7);this.hide();},setValue:function(H3){this.base(H3);if(this.owner){this.owner.setValue(H3);}}});HPopUpMenu=HPopupMenu;HComboBox=HControl.extend({packageName:"menus",componentName:"combobox",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HComboBox]';this.preserveTheme=true;this.H0D=false;this.setMouseDown(true);this.popupMenu=new HPopupMenu(new HRect(this.rect.left,this.rect.top+this.rect.height,220,200),this.app);this.popupMenu.setOwner(this);if(!this.isinherited){this.draw();}},die:function(){if(this.popupMenu){this.popupMenu.die();}
this.base();},draw:function(){if(!this.drawn){this.drawRect();if(!this.H0D){this.textControl=new HTextControl(this.H46(),this,{value:"",enabled:this.enabled});this.comboBoxButton=new HComboBoxButton(this.H47(),this,{label:"",enabled:this.enabled,popupMenu:this.popupMenu,textControl:this.textControl});this.H0D=true;}
this.drawn=true;}else{this.drawRect();}},H46:function(){var HU=this.rect.width-this.rect.height;return new HRect(0,0,HU,this.rect.height);},H47:function(){var Hy=this.rect.width-this.rect.height;return new HRect(Hy,0,this.rect.width,this.rect.height);},drawRect:function(){this.base();if(this.H0D){this.textControl.setRect(this.H46());this.comboBoxButton.setRect(this.H47());}},addItem:function(HB,Hb){new HMenuItem(new HRect(0,0,100,18),this.popupMenu,{label:HB,index:Hb});},removeItem:function(Hb){this.popupMenu.removeItem(Hb);},selectItem:function(H7){this.popupMenu.selectItem(H7);},selectItemAtIndex:function(Hb){this.popupMenu.selectItemAtIndex(Hb);},selectedIndex:function(){return this.popupMenu.selectedIndex;},selectedItem:function(){return this.popupMenu.selectedItem;},selectedIndexChanged:function(){}});HComboBoxButton=HButton.extend({packageName:"menus",componentName:"comboboxbutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HComboBoxButton]';this.H1a="comboboxbuttonlabel";if(H1.popupMenu){this.popupmenu=H1.popupMenu;this.popupmenu.popupbutton=H1.textControl;this.popupmenu.textcontrol=this;this.popupmenu.hide();}
this.setMouseDown(true);if(!this.isinherited){this.draw();}},mouseDown:function(x,y,HW){if(this.popupmenu.isHidden){this.popupmenu.rect.left=this.parent.pageX();this.popupmenu.rect.top=this.parent.pageY()+
this.parent.rect.height;this.popupmenu.rect.right=this.popupmenu.rect.left+
this.popupmenu.rect.width;this.popupmenu.rect.bottom=this.popupmenu.rect.top+
this.popupmenu.rect.height;this.popupmenu.setStyle("left",this.popupmenu.rect.left+"px");this.popupmenu.setStyle("top",this.popupmenu.rect.top+"px");this.popupmenu.bringToFront();this.popupmenu.show();}else{this.popupmenu.hide();}},lostActiveStatus:function(HE){if(!HE||this.popupmenu.indexOfItem(HE)==-1){this.popupmenu.hide();}}});
HLocalTableValue=HValue.extend({constructor:function(H6,H3){this.initTable(H6,H3);this.value=H3.value;},initTable:function(H6,H3){},set:function(H3){},updateBuffer:function(_startingRow,_endingRow){},setCell:function(_table,H3,_row,Hq){if(!this.value[_row]){return;}
this.value[_row][Hq]=H3;},getCell:function(_table,_row,Hq){if(!this.value[_row]){return"";}
return this.value[_row][Hq];},numberOfRows:function(){return 100;},toXML:function(){}});HTableValue=HValue.extend({constructor:function(H6,H3){this.initTable(H6,H3);},initTable:function(H6,H3){if(typeof H3!="object"){throw"HTableValue error: value not an object";}
if(typeof H3.value!="object"){throw"HTableValue error: object.value not an array";}
if(typeof H3.length!="number"){throw"HTableValue error: object.length not a number";}
if(typeof H3.startrow!="number"){throw"HTableValue error: object.startrow not a number";}
if(typeof H3.endrow!="number"){throw"HTableValue error: object.endrow not a number";}
if(typeof H3.columns!="object"){throw"HTableValue error: object.columns not an array";}
this.value=H3.value;this.length=H3.length;this.columns=H3.columns;this.startrow=H3.startrow;this.endrow=H3.endrow;this.startrow1=0;this.endrow1=0;this.id=H6;this.type='[HTableValue]';this.views=[];this.startdatarow=this.startrow;this.enddatarow=this.endrow;this.datalength=this.endrow-(this.startrow-1);this.gettingData=false;this.gettingData1=false;this.gettingDataInterrupted=false;this.gettingDataInterrupted1=false;this.index1=0;this.index2=0;this.valueRequested=undefined;HValueManager.add(H6,this);},set:function(H3){if(this.valueRequested==1){this.value1=H3;this.gettingData1=false;}else if(this.valueRequested==0){this.value=H3;this.gettingData=false;}
if(this.gettingDataInterrupted){this.tableControl.reloadData();this.gettingDataInterrupted=false;}
if(this.gettingDataInterrupted1){this.tableControl.reloadData();this.gettingDataInterrupted1=false;}
if(this.reloading==true){this.tableControl.reloadData();this.reloading=false;}},updateBuffer:function(_startingRow,_endingRow){var HX=this.datalength;var _whichValue=undefined;if(this.startdatarow-1<=_startingRow&&_endingRow<=this.enddatarow-1){var _rowTopLimit;var _rowBottomLimit;if(this.startrow-1<=_startingRow&&_endingRow<=this.endrow-1){_rowTopLimit=this.startrow-1+parseInt(HX/4,10);_rowBottomLimit=this.endrow-1-parseInt(HX/4,10);_whichValue=0;}else if((this.startrow1&&this.endrow1)&&this.startrow1-1<=_startingRow&&_endingRow<=this.endrow1-1){_rowTopLimit=this.startrow1-1+parseInt(HX/4,10);_rowBottomLimit=this.endrow1-1-parseInt(HX/4,10);_whichValue=1;}
if(_endingRow>_rowBottomLimit){if(_whichValue==0&&this.startrow1<this.startrow){var _newRowStart=this.endrow+1;var _newRowEnd=this.endrow+HX;if(_newRowEnd>this.length){_newRowEnd=this.length;}
this.startrow1=_newRowStart;this.endrow1=_newRowEnd;this.startrow2=this.startrow1;this.endrow2=this.endrow1;window.status="going down 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.startdatarow=this.startrow;this.enddatarow=this.endrow1;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_whichValue==1&&this.startrow<this.startrow1){var _newRowStart=this.endrow1+1;var _newRowEnd=this.endrow1+HX;if(_newRowEnd>this.length){_newRowEnd=this.length;}
this.startrow=_newRowStart;this.endrow=_newRowEnd;this.startrow2=this.startrow;this.endrow2=this.endrow;window.status="going down 1 "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" ";this.startdatarow=this.startrow1;this.enddatarow=this.endrow;this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}
if(_startingRow<_rowTopLimit){if(this.startrow-1==0&&_whichValue==0){}else{if(_whichValue==0&&this.startrow<this.startrow1){var _newRowStart=this.startrow-HX;var _newRowEnd=this.startrow-1;if(_newRowStart<1){_newRowStart=1;}
this.startrow1=_newRowStart;this.endrow1=_newRowEnd;this.startrow2=this.startrow1;this.endrow2=this.endrow1;this.startdatarow=this.startrow1;window.status="going up 0 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.enddatarow=this.endrow;this.valueRequested=1;this.gettingData1=true;HValueManager.changed(this);}
if(_whichValue==1&&this.startrow1<this.startrow){var _newRowStart=this.startrow1-HX;var _newRowEnd=this.startrow1-1;if(_newRowStart<1){_newRowStart=1;}
this.startrow=_newRowStart;this.endrow=_newRowEnd;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=this.startrow;this.enddatarow=this.endrow1;window.status="going up 1 "+"this.startrow "+this.startrow+" "+"this.endrow "+this.endrow+" "+"this.startrow1 "+this.startrow1+" "+"this.endrow1 "+this.endrow1+" ";this.valueRequested=0;this.gettingData=true;HValueManager.changed(this);}}}}else{var _viewLength=_endingRow-_startingRow;var _newRowStart=_startingRow-parseInt(HX/2,10)+parseInt(_viewLength/2,10);if(_newRowStart<1){_newRowStart=1;}
var _newRowEnd=_newRowStart+HX-1;if(_newRowEnd>this.length){_newRowEnd=this.length;}
this.startrow=_newRowStart;this.endrow=_newRowEnd;this.startrow1=undefined;this.endrow1=undefined;this.startrow2=this.startrow;this.endrow2=this.endrow;this.startdatarow=_newRowStart;this.enddatarow=_newRowEnd;this.valueRequested=0;this.gettingData=true;this.reloading=true;HValueManager.changed(this);}},setCell:function(_table,H3,_row,Hq){this.value[_row][Hq]=H3;},getCell:function(_table,_row,Hq){if(this.startrow-1<=_row&&_row<=this.endrow-1){if(this.gettingData){this.gettingDataInterrupted=true;}else{if(this.value[_row-(this.startrow-1)]){return this.value[_row-(this.startrow-1)][Hq];}}}else if(this.startrow1-1<=_row&&_row<=this.endrow1-1){if(this.gettingData1){this.gettingDataInterrupted1=true;}else{if(this.value1&&this.value1[_row-(this.startrow1-1)]){return this.value1[_row-(this.startrow1-1)][Hq];}}}
return"-";},numberOfRows:function(){return this.length;},toXML:function(HT){var H0t=this.id;var H3X="";for(var Hq=0;Hq<this.columns.length;Hq++){H3X+='<getrows column="'+this.columns[Hq]+'" startrow="'+this.startrow2+'" endrow="'+this.endrow2+'" />';}
return'<tablevalue length="'+this.columns.length+'" id="'+H0t+'" order="'+HT+'">'+H3X+'</tablevalue>';}});HTableColumn=HControl.extend({packageName:"table",componentName:"tablecolumn",constructor:function(H0,H4,H1){H1=new(Base.extend({dataView:"",headerView:""}).extend(H1));if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTableColumn]';this.width=H0.width;this.dataView=this.options.dataView;this.headerView=this.options.headerView;this.index=this.options.index;this.preserveTheme=true;if(!this.isinherited){this.draw();}}});HTableHeaderView=HControl.extend({packageName:"table",componentName:"tableheaderview",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTableHeaderView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){this.base();}});HTableHeaderColumn=HControl.extend({packageName:"table",componentName:"tableheadercolumn",constructor:function(H0,H4,H1){this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;this.type='[HTableHeaderColumn]';this.H1a="tableheadercolumnlabel";this.H5u="tableheaderselected";this.H5v="tableheaderorder";this.preserveTheme=true;this.setMouseUp(true);this.setDraggable(true);this.options=this.parent.parent.tableViewDefaults;this.H2T();},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(!this.HG){this.HG=elem_bind(this.H1a+this.elemId);this.H2U=elem_bind(this.H5u+this.elemId);this.H1t=elem_bind(this.H5v+this.elemId);}
if(this.HG){elem_set(this.HG,this.label);}},H5w:function(){H05.direction=!H05.direction;this.toggleCSSClass(elem_get(this.H1t),'order-dn',!H05.direction);this.toggleCSSClass(elem_get(this.H1t),'order-up',H05.direction);for(var H2g=0;H2g<this.parent.parent.tableHeaderColumns.length;H2g++){var H2V=this.parent.parent.tableHeaderColumns[H2g].H2U;if(H2V&&(H2V!=this.H6K)){prop_set(H2V,'visibility','hidden');}
var H2W=this.parent.parent.tableHeaderColumns[H2g].H1t;if(H2W&&(H2W!=this.H1t)){prop_set(H2W,'visibility','hidden');}}
if(this.H2U){prop_set(this.H2U,'visibility','inherit');}
if(this.H1t){prop_set(this.H1t,'visibility','inherit');}
var Hb=this.parent.parent.tableHeaderColumns.indexOf(this);H05.column=Hb;this.parent.parent.data.value.sort(H05);this.parent.parent.reloadData();},startDrag:function(H8,H9){this.base(H8,H9);this.H2T();H8-=this.parent.pageX();H9-=this.parent.pageY();this.H19=this.parent.parent.tableHeaderColumns.indexOf(this);this.H30=false;this.H0S=new HPoint(H8,H9);this.H1R=new HPoint(H8,H9);this.H1O=new HRect(this.rect);this.H2T();var H2X=this.H0S.subtract(this.H1O.leftTop);if(this.H0j.resizeWRect.contains(H2X)){this.HK=H8-this.rect.left;this.H0j.resizeW=true;}else if(this.H0j.resizeERect.contains(H2X)){this.HK=H8-this.rect.right;this.H0j.resizeE=true;}else if(this.H0j.dragColumnRect.contains(H2X)){this.HK=this.H0S.subtract(this.H1O.leftTop);this.H0j.dragColumn=true;}
this.bringToFront();this.H42=true;this.doDrag(H8,H9);this.H42=false;},doDrag:function(H8,H9){if(this.H42==false){H8-=this.parent.pageX();H9-=this.parent.pageY();}
var H0E=this.parent.parent;var Ht;var H0p=new HPoint(H8,H9);var Hb=this.parent.parent.tableHeaderColumns.indexOf(this);var Hq=this.parent.parent.tableColumns[Hb];if(!this.H1R.equals(H0p)){if(this.H0j.resizeW==true){if(Hb==0){return;}
Ht=H8-this.HK;this.rect.left=Ht;this.rect.updateSecondaryValues();this.drawRect();Hq.rect.left=Ht+this.parent.parent.scrollLeft();Hq.rect.updateSecondaryValues();Hq.drawRect();this.parent.parent._columnOrigins[Hb]=Ht+this.parent.parent.scrollLeft();H0E._tableColumns[Hb].width=this.rect.width;var H1P=this.parent.parent.tableColumns[(Hb-1)];if(H1P){H1P.rect.right=Ht+this.parent.parent.scrollLeft();H1P.rect.updateSecondaryValues();H1P.drawRect();this.parent.parent._tableColumns[Hb-1].width=H1P.rect.width;H2Y=this.parent.parent.tableHeaderColumns[Hb-1];H2Y.rect.right=Ht;H2Y.rect.updateSecondaryValues();H2Y.drawRect();}}else if(this.H0j.resizeE==true){var l=this.parent.parent.tableColumns.length;if(Hb==l-1){return;}
Ht=H8-this.HK;this.rect.right=Ht;this.rect.updateSecondaryValues();this.drawRect();Hq.rect.right=Ht+this.parent.parent.scrollLeft();Hq.rect.updateSecondaryValues();Hq.drawRect();this.parent.parent._columnOrigins[Hb+1]=Ht+this.parent.parent.scrollLeft();this.parent.parent._tableColumns[Hb].width=this.rect.width;var H1Q=this.parent.parent.tableColumns[(Hb+1)];if(H1Q){H1Q.rect.left=Ht+this.parent.parent.scrollLeft();H1Q.rect.updateSecondaryValues();H1Q.drawRect();this.parent.parent._tableColumns[Hb+1].width=H1Q.rect.width;H2Z=this.parent.parent.tableHeaderColumns[Hb+1];H2Z.rect.left=Ht;H2Z.rect.updateSecondaryValues();H2Z.drawRect();}}else if(this.H0j.dragColumn==true){Ht=H0p.subtract(this.HK);this.setStyle('opacity',0.4);this.setStyle('left',Ht.x+"px");Hq.setStyle('opacity',0.4);Hq.setStyle('left',Ht.x+this.parent.parent.scrollLeft()+"px");}
this.H30=true;if(this.H0j.dragColumn==false){}
this.H1R=H0p;}},endDrag:function(H8,H9){this.base(H8,H9);this.doDrag(H8,H9);H8-=this.parent.pageX();H9-=this.parent.pageY();var H0E=this.parent.parent;this.setStyle('opacity',1.0);H0E.tableColumns[this.H19].setStyle('opacity',1.0);var Hh=false;var i,l=H0E.tableHeaderColumns.length;for(i=0;i<l;i++){if(H0E.tableHeaderColumns[i].rect.left<=H8&&H8<=H0E.tableHeaderColumns[i].rect.right&&H0E.tableHeaderColumns[i]!=this){if(this.H0j.dragColumn==true){H0E.moveColumn(this.H19,i);Hh=true;}}}
if(Hh==false&&this.H0j.dragColumn==true){this.setStyle('left',this.H1O.left+"px");H0E.tableColumns[this.H19].setStyle('left',this.H1O.left+"px");this.H5w();}},drawRect:function(){this.H30=false;this.base();},H2T:function(){this.H0j={dragColumn:false,resizeW:false,resizeE:false,dragColumnRect:new HRect(this.options.resizeW,0,this.rect.width-this.options.resizeE,this.rect.height),resizeWRect:new HRect(0,0,this.options.resizeW,this.rect.height),resizeERect:new HRect(this.rect.width-this.options.resizeE,0,this.rect.width,this.rect.height)};}});H05=function(a,b){if(a[H05.column]<b[H05.column]){return(H05.direction)?-1:1;}
if(a[H05.column]>b[H05.column]){return(H05.direction)?1:-1;}
return 0;}
H05.direction=true;H05.column=0;_HTableColumn=function(Hb,Hf,H0T,H0R,H2f){this.index=Hb;this.width=Hf;this.string=H0T;this.dataView=H0R;this.headerView=H2f;this.headerCreated=false;this.created=false;}
HTableControl=HControl.extend({packageName:"table",componentName:"itablecontrol",constructor:function(H0,H4,H1){H1=new(Base.extend({rowHeight:21,headerViewHeight:21,bufferLength:3,resizeW:5,resizeE:5}).extend(H1));if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.tableViewDefaults=H1;this.type='[HTableControl]';this.preserveTheme=true;this.tableColumns=[];this._columnOrigins=[];this.tableHeaderColumns=[];this._tableColumns=[];this.H15=[];this._tableRows=[];this.numberOfRows=0;this.H16=0;this._dataRowBufferEndIndex=0;this.H17=0;this.H1M=0;this.H0b=0;this.headerView=new HTableHeaderView(new HRect(0,0,this.rect.width,this.options.headerViewHeight),this);this.tableView=new HView(new HRect(0,this.options.headerViewHeight,this.rect.width,this.rect.height),this);this.tableView.setStyle("overflow","auto");this.columnsView=new HView(new HRect(0,0,this.rect.width,this.rect.height-this.options.headerViewHeight),this.tableView);var _cornerRect=new HRect(this.rect.width-18,0,this.rect.width,this.options.headerViewHeight);this.cornerView=new HTableCornerView(_cornerRect,this);this._scrollRect=new HRect(this.tableView.rect);this._scrollRect.offsetTo(0,0);if(!this.isinherited){this.draw();}},onIdle:function(){this.H5r();this.base();},H2e:function(){if(this.numberOfRows==0||this._tableColumns.length==0){return;}
var _startingRow=this._rowAtPoint(new HPoint(0,this._scrollRect.top));var _endingRow=this._rowAtPoint(new HPoint(0,this._scrollRect.bottom));var _startingColumn,_endingColumn;var _xPos=this._scrollRect.left;var i=0;while(i<this._tableColumns.length&&_xPos>this._columnOrigins[i]){i++;}
_startingColumn=i-1;if(_startingColumn==-1){_startingColumn=0;}
var _xPos=this._scrollRect.right;while(i<this._tableColumns.length&&_xPos>this._columnOrigins[i]){i++;}
_endingColumn=i-1;if(_endingColumn==-1){_endingColumn=this._tableColumns.length-1;}
var H3Y=false;var _partUpRowsUpdated=false;var H3Z=false;for(var i=_startingColumn;i<=_endingColumn;i++){if(this._tableColumns[i].created==false){var _columnRect=new HRect(this._columnOrigins[i],0,this._columnOrigins[i]+this._tableColumns[i].width,this.columnsView.rect.height);this.tableColumns[i]=new HTableColumn(_columnRect,this.columnsView,{label:this._tableColumns[i].string,dataView:this._tableColumns[i].dataView,headerView:this._tableColumns[i].headerView});this._tableColumns[i].created=true;}
if(this._tableColumns[i].headerCreated==false){var _headerColumnRect=new HRect(this._columnOrigins[i]-this._scrollRect.left,0,this._columnOrigins[i]-this._scrollRect.left+this._tableColumns[i].width,this.options.headerViewHeight);this.tableHeaderColumns[i]=new HTableHeaderColumn(_headerColumnRect,this.headerView,{label:this._tableColumns[i].string});this.tableHeaderColumns[i].draw();this._tableColumns[i].headerCreated=true;}
var _tableColumn=this.tableColumns[i];var _tableHeaderColumn=this.tableHeaderColumns[i];if(this.H15[i]==false){this._initializeRows(i,_startingRow,_endingRow);this.H15[i]=true;}}
for(var i=0;i<this._tableColumns.length;i++){if(this._tableColumns[i].created==true){var _tableColumn=this.tableColumns[i];var _tableHeaderColumn=this.tableHeaderColumns[i];_tableHeaderColumn.rect.offsetTo(this._columnOrigins[i]-this._scrollRect.left,0);_tableHeaderColumn.drawRect();_tableColumn.rect.set(this._columnOrigins[i],0,this._columnOrigins[i]+_tableColumn.width,this.columnsView.rect.height);_tableColumn.drawRect();if(!this.H41&&this.H16<=_startingRow&&_startingRow<this.H16+this.tableViewDefaults.bufferLength*this.H0b){var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,this.H16,this._dataRowBufferEndIndex,this.H0b);var H5s=_dataBuffer.lowerLimit();var H5t=_dataBuffer.upperLimit();if(_startingRow>H5t){H3Y=true;var H0u=this.H17;var _yPos=_dataBuffer.getNewBottomRow()*this.options.rowHeight;var _newRowStart=_dataBuffer.getNewBottomRow();var _newRowEnd=_dataBuffer.getNewBottomRowEnd();this.H2S(H0u,_newRowStart,_newRowEnd,i,_yPos,_tableColumn);}else if(_startingRow<=H5s){_partUpRowsUpdated=true;var H0u=this.H1M;var _yPos=_dataBuffer.getNewTopRow()*this.options.rowHeight;var _newRowStart=_dataBuffer.getNewTopRow();var _newRowEnd=_dataBuffer.getNewTopRowEnd();this.H2S(H0u,_newRowStart,_newRowEnd,i,_yPos,_tableColumn);}}else{H3Z=true;var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,0,0,this.H0b);var _startingBufferRow=_dataBuffer.startingRow();var _endingBufferRow=_dataBuffer.endingRow();var H0u=0;var _yPos=_startingBufferRow*this.options.rowHeight;this.H2S(H0u,_startingBufferRow,_startingBufferRow+this.H0b*3,i,_yPos,_tableColumn);}}}
if(H3Y==true){var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,0,0,this.H0b);var _indexes=_dataBuffer.getNewDownBufferIndexes(this.H17);this.H17=_indexes[0];this.H1M=_indexes[1];this.H16+=this.H0b;}
if(_partUpRowsUpdated==true){var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,0,0,this.H0b);var _indexes=_dataBuffer.getNewUpBufferIndexes(this.H17);this.H17=_indexes[0];this.H1M=_indexes[1];this.H16-=this.H0b;}
if(H3Z==true){var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,0,0,this.H0b);this.H17=0;this.H1M=_dataBuffer.endBufferStartRow();this.H16=_startingRow-this.H0b;}
this.data.updateBuffer(_startingRow,_endingRow);},H2S:function(H0u,_startRealRow,_endRealRow,H0d,H3W,H7){var H3;for(var _rowIndex=_startRealRow;_rowIndex<_endRealRow;_rowIndex++){H3=this.data.getCell(this,_rowIndex,this._tableColumns[H0d].index);H3=(H3)?H3:"1";this._tableRows[H0d][H0u].setValue(H3);this._tableRows[H0d][H0u].rect.offsetTo(0,H3W);this._tableRows[H0d][H0u].drawRect();H3W+=this.options.rowHeight;H0u++;}},_initializeRows:function(H0d,_startingRow,_endingRow){var _tableColumn=this.tableColumns[H0d];if(!this.H0b){this.H0b=_endingRow-_startingRow;}
var _dataBuffer=new HDataBuffer(_startingRow,_endingRow,0,0,this.H0b);var _startingBufferRow=_dataBuffer.startingRow();var _endingBufferRow=_dataBuffer.endingRow();this.H16=_startingBufferRow;this._dataRowBufferEndIndex=_endingBufferRow;var _yPos=_startingBufferRow*this.options.rowHeight;this.H1M=_dataBuffer.endBufferStartRow();this._tableRows[H0d]=new Array();var H0R=_tableColumn.dataView
if(typeof H0R=="string"){H0R=ITextControl}
var H40,H1A,H3;for(var _rowIndex=_startingBufferRow;_rowIndex<_endingBufferRow;_rowIndex++){H3=this.data.getCell(this,_rowIndex,this._tableColumns[H0d].index);H3=(H3)?H3:"1";H1A=new HRect(0,_yPos,_tableColumn.rect.width,_yPos+this.options.rowHeight);H40=new H0R(H1A,_tableColumn,{value:H3});this._tableRows[H0d].push(H40);_yPos+=this.options.rowHeight;}},_calculateDimensions:function(){var _tableWidth=0,_tableHeight;if(this._tableColumns.length>0){var Hf;this._columnOrigins[0]=0;width=this._tableColumns[0].width;_tableWidth+=width;for(var i=1;i<this._tableColumns.length;i++){this._columnOrigins[i]=this._columnOrigins[i-1]+width;width=this._tableColumns[i].width;_tableWidth+=width;}}
_tableHeight=this.numberOfRows*this.options.rowHeight;this.columnsView.rect.setSize(_tableWidth,_tableHeight);this.columnsView.drawRect();if(this.headerView){this.headerView.rect.setWidth(_tableWidth);this.headerView.drawRect();}},_rowAtPoint:function(Hi){return parseInt(Hi.y/this.options.rowHeight,10);},rowAtPoint:function(Hi){var H9=Hi.y;if(H9==0){return 0;}
H9-=this.options.headerViewHeight;return parseInt(H9/this.options.rowHeight);},addColumn:function(Hb,Hf,Hd,H0R,H2f){var Hq=new _HTableColumn(Hb,Hf,Hd,H0R,H2f);this._tableColumns.push(Hq);this.H15.push(false);},setData:function(H01){this.data=H01;this.data.tableControl=this;this.numberOfRows=this.data.numberOfRows();this._calculateDimensions();},reloadData:function(H01){this.H18=true;this.H41=true;this.H2e();this.H41=false;this.H18=false;},removeColumn:function(Hq){this.H18=true;var Hb=this.tableColumns.indexOf(Hq);this._tableColumns.splice(Hb,1);this.tableHeaderColumns[Hb].die();this.tableHeaderColumns.splice(Hb,1);this.tableColumns[Hb].die();this.tableColumns.splice(Hb,1);this._tableRows.splice(Hb,1);this.H15.splice(Hb,1);this._calculateDimensions();this.H2e();this.H18=false;},moveColumn:function(H0d,H1s){this.H18=true;var H0c=H0d;var H0Q=H1s;if(H0c<H0Q){var H2R=H0Q;H0Q=H0c;H0c=H2R;}
var Hq=this._tableColumns[H0c];this._tableColumns.splice(H0c,1);this._tableColumns.splice(H0Q,0,Hq);Hq=this.tableColumns[H0c];this.tableColumns.splice(H0c,1);this.tableColumns.splice(H0Q,0,Hq);Hq=this.tableHeaderColumns[H0c]
this.tableHeaderColumns.splice(H0c,1);this.tableHeaderColumns.splice(H0Q,0,Hq);Hq=this.H15[H0c]
this.H15.splice(H0c,1);this.H15.splice(H0Q,0,Hq);Hq=this._tableRows[H0c]
this._tableRows.splice(H0c,1);this._tableRows.splice(H0Q,0,Hq);this._calculateDimensions();this.H2e();this.H18=false;},scrollLeft:function(){return this._scrollRect.left;},scrollTop:function(){return this._scrollRect.top;},H5r:function(){var _tableElem=elem_get(this.tableView.elemId);if(!_tableElem){throw("Error: HTableControl element not found");}
var _prevScrollRect=new HRect(this._scrollRect);this._scrollRect.offsetTo(parseInt(_tableElem.scrollLeft,10),parseInt(_tableElem.scrollTop,10));if(!_prevScrollRect.equals(this._scrollRect)){this.H18=true;this.H2e();this.H18=false;}}});
Date.prototype.getWeek=function(){var Hr=this.getFullYear();var H63=new Date(Hr,0,1);var H0I=H63.getDay();var H64=((Date.UTC(Hr,this.getMonth(),this.getDate())-
Date.UTC(Hr,0,1))/(1000*60*60*24));if(H0I==0){H0I=6;}else{H0I--;}
var H65=H64-(7-H0I);var H4o=Math.floor(H65/7)+1;if(0<=H0I&&H0I<=3){H4o+=1;}
H3m=H4o;if(H3m==53){if(H0I==3||((H0I==2||H0I==3)&&((Hr%4==0&&Hr%100!=0)||Hr%400==0))){}else{H3m=1;}}
return H3m;}
Date.prototype.getMonthLength=function(){var Hz=this.getMonth();var Hr=this.getFullYear();var H62=[31,28,31,30,31,30,31,31,30,31,30,31];if(Hz==1&&((Hr%4==0&&Hr%100!=0)||Hr%400==0)){return 29;}else{return H62[Hz];}}
HDateValue=HValue.extend({constructor:function(H6,H3){this.validate(H3);this._dateFormat="";this._timezone=2;this.base(H6,H3);this.type='[HDateValue]';},validate:function(H3){},set:function(H3){this.base(H3);},getYear:function(){var HV=this._utcToLocal();return HV.getFullYear();},getMonth:function(){var HV=this._utcToLocal();return HV.getMonth()+1;},getWeek:function(){var HV=this._utcToLocal();return HV.getWeek();},getMDay:function(){var HV=this._utcToLocal();return HV.getDate();},getHour:function(){var HV=this._utcToLocal();return HV.getHours();},_utcToLocal:function(){var _localTime=this.value.getTime();var _localOffset=this.value.getTimezoneOffset()*60000;var _utc=_localTime+_localOffset;var HV=new Date(_utc+(this._timezone*3600000));return HV;},getMinute:function(){var HV=this._utcToLocal();return HV.getUTCMinutes();},getSecond:function(){var HV=this._utcToLocal();return HV.getUTCSeconds();},getMilliSecond:function(){var HV=this._utcToLocal();return HV.getUTCMilliseconds();},getTimeZone:function(){return this._timezone;},setYear:function(_yearNum,_monthNum,_mdayNum){if(_monthNum){_monthNum-=1;}
this.value.setFullYear(_yearNum,_monthNum,_mdayNum);this.base(this.value);},setMonth:function(_monthNum,_mdayNum){this.value.setMonth(_monthNum-1,_mdayNum);this.base(this.value);},setMDay:function(_mdayNum){this.value.setDate(_mdayNum);this.base(this.value);},setHour:function(_hourNum,_minuteNum,_secondNum,_msNum){this.value.setHours(_hourNum,_minuteNum,_secondNum,_msNum);this.base(this.value);},setMinute:function(_minuteNum,_secondNum,_msNum){this.value.setMinutes(_minuteNum,_secondNum,_msNum);this.base(this.value);},setSecond:function(_secondNum,_msNum){this.value.setSeconds(_secondNum,_msNum);this.base(this.value);},setTimeZone:function(_theTimeZoneValue){this._timezone=_theTimeZoneValue;},setDateFormat:function(_reprString){this._dateFormat=_reprString;},toDateString:function(){var _monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var _abbpreviatedMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var _dateString=this._dateFormat;var _stringArray=[""];var Hb=0;var ch="";var Hu=this.getMDay().toString();var Hz=this.getMonth().toString();var Hr=this.getYear().toString();var _year2Digits=(Hr.length==1?"0"+Hr:(Hr.charAt(Hr.length-2)+Hr.charAt(Hr.length-1)));var _24hour=this.getHour().toString();var _hour=this.getHour();var _12hour=(_hour>12)?_hour-12:_hour;_12hour=(_12hour==0)?12:_12hour;var _minute=this.getMinute().toString();var _second=this.getSecond().toString();var _timezone=this.getTimeZone();var _timezoneS=_timezone.toString();var _milliseconds=this.getHour()*60*60*1000+
this.getMinute()*60*1000+
this.getSecond()*1000+
this.getMilliSecond();var _designator=(0<_milliseconds&&_milliseconds<=12*60*60*1000)?"AM":"PM";var regexpArray=[[/dd/g,(Hu.length==1?"0":"")+Hu],[/d/g,Hu],[/MMMM/g,"'"+_monthNames[parseInt(Hz)-1]+"'"],[/MMM/g,"'"+_abbpreviatedMonthNames[parseInt(Hz)-1]+"'"],[/MM/g,(Hz.length==1?"0":"")+Hz],[/M/g,Hz],[/yyyy/g,Hr],[/yy/g,_year2Digits],[/y/g,parseInt(_year2Digits)],[/HH/g,(_24hour.length==1?"0":"")+_24hour],[/H/g,_24hour],[/hh/g,(_12hour.length==1?"0":"")+_12hour],[/h/g,_12hour],[/mm/g,(_minute.length==1?"0":"")+_minute],[/m/g,_minute],[/ss/g,(_second.length==1?"0":"")+_second],[/s/g,_second],[/zz/g,((_timezone>0)?"+":"")+(_timezoneS.length==1?"0":"")+_timezone],[/z/g,((_timezone>0)?"+":"")+_timezone],[/tt/g,"'"+_designator+"'"],[/t/g,"'"+_designator.charAt(0)+"'"]];for(var i=0;i<_dateString.length;i++){ch=_dateString.charAt(i);if(ch=="'"){if(i>0){Hb++;_stringArray[Hb]="";}
_stringArray[Hb]+=ch;i++;ch=_dateString.charAt(i);while(ch!="'"&&i<_dateString.length){_stringArray[Hb]+=ch;i++;ch=_dateString.charAt(i);}
if(i<_dateString.length){_stringArray[Hb]+=ch;Hb++;_stringArray[Hb]="";}}else{_stringArray[Hb]+=ch;}}
for(var i=0;i<_stringArray.length;i++){if(_stringArray[i].charAt(0)!="'"){for(var j=0;j<regexpArray.length;j++){_stringArray[i]=_stringArray[i].replace(regexpArray[j][0],regexpArray[j][1]);if(_stringArray[i].indexOf("'")>=0){var k=_stringArray[i].indexOf("'");var k2=_stringArray[i].indexOf("'",k+1);var _split=_stringArray[i];var _split1=_split.substring(0,k);var _split2=_split.substring(k,k2+1);var _split3=_split.substring(k2+1,_split.length);_stringArray.splice(i,1,_split1,_split2,_split3);i++;break;}}}}
return _stringArray.join("").replace(/'/g,"");},toXML:function(HT){var H0t=this.id;var _timezone=this.getTimeZone();_timezone=((_timezone>0)?"+":"")+_timezone;return'<date id="'+H0t+'" order="'+HT+'" epochvalue="'+this.value.getTime()+'" timezone="'+_timezone+'"><year>'+this.getYear()+'</year><month>'+this.getMonth()+'</month><mday>'+this.getMDay()+'</mday><hour>'+this.getHour()+'</hour><minute>'+this.getMinute()+'</minute><second>'+this.getSecond()+'</second></date>';}});HCalendarButton=HControl.extend({packageName:"calendar",componentName:"calendarbutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HCalendarButton]';this.H1a="calendarbuttonlabel";this.setMouseDown(true);this.setKeyDown(true);if(!this.isinherited){this.draw();}},keyDown:function(Hx){this.parent.keyDown(Hx);},H1L:function(){if(this.value==0){this.toggleCSSClass(elem_get(this.HG),"shaded",false);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOn,false);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOff,true);}else if(this.value==1){this.toggleCSSClass(elem_get(this.HG),"shaded",false);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOn,true);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOff,false);}else if(this.value==2){this.toggleCSSClass(elem_get(this.HG),"shaded",true);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOn,false);this.toggleCSSClass(elem_get(this.HG),HCalendarButton.cssOff,false);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(this.drawn){if(!this.HG){this.HG=elem_bind(this.H1a+this.elemId);}
if(this.HG){elem_set(this.HG,this.label);this.H1L();}
this.drawRect();}},setShaded:function(){this.value=0;},setSelected:function(){},setNormal:function(){},mouseDown:function(H8,H9,H03){this.parent.selectDay(this.index);}},{cssOn:"on",cssOff:"off"});HCalendarControl=HControl.extend({packageName:"calendar",componentName:"calendarcontrol",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HCalendarControl]';this.preserveTheme=true;var H4q=new Date().getFullYear();var H4r=[];for(var i=H4q-2;i<H4q+6;i++){H4r.push(i);}
this.Hl={hSpace:26,vSpace:20,selectToday:true,switchMonths:true,dayList:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],startDay:0,monthList:["January","February","March","April","May","June","July","August","September","October","November","December"],yearList:H4r,barHeight:25};this.H0D=false;if(!this.isinherited){this.draw();}},keyDown:function(Hx){if(Hx==Event.KEY_LEFT){this.previousDay();}
else if(Hx==Event.KEY_RIGHT){this.nextDay();}
else if(Hx==Event.KEY_UP){this.previousWeek();}
else if(Hx==Event.KEY_DOWN){this.nextWeek();}
else if(Hx==Event.KEY_PAGEUP){this.previousMonth();}
else if(Hx==Event.KEY_PAGEDOWN){this.nextMonth();}},previousDay:function(){var Hu=this.day-1;if(Hu<1){this.previousMonth();Hu=new Date(this.year,this.month,1).getMonthLength();}
this.setDate(this.year,this.month,Hu);},nextDay:function(){var Hu=this.day+1;if(Hu>new Date(this.year,this.month,1).getMonthLength()){this.nextMonth();Hu=1;}
this.setDate(this.year,this.month,Hu);},previousWeek:function(){var Hu=this.day-7;if(Hu<1){this.previousMonth();Hu=new Date(this.year,this.month,1).getMonthLength()+
(this.day-7);}
this.setDate(this.year,this.month,Hu);},nextWeek:function(){var Hu=this.day+7;var H4p=new Date(this.year,this.month,1).getMonthLength();if(Hu>H4p){this.nextMonth();Hu=Hu-H4p;}
this.setDate(this.year,this.month,Hu);},previousMonth:function(){var Hz=this.month-1;var Hr=this.year;if(Hz<0){Hr--;Hz=this.Hl.monthList.length-1;}
this.setDate(Hr,Hz,this.day);},nextMonth:function(){var Hz=this.month+1;var Hr=this.year;if(Hz>this.Hl.monthList.length-1){Hr++;Hz=0;}
this.setDate(Hr,Hz,this.day);},draw:function(){if(!this.H0D){this.rect.width=this.Hl.hSpace*8;this.rect.right=this.rect.left+this.rect.width;this.rect.height=this.Hl.barHeight+
this.Hl.vSpace*7;this.rect.bottom=this.rect.top+this.rect.height;}
this.base();if(!this.H0D){this.drawMarkup();var Hy,HH,HU,HY;this.H3n();this.monthControl=new HComboBox(new HRect(4,3,86,23),this,{enabled:this.enabled});for(var i=0;i<this.Hl.monthList.length;i++){this.monthControl.addItem(this.Hl.monthList[i]);}
this.monthControl.selectedIndexChanged=this.H66;this.yearControl=new HComboBox(new HRect(89,3,146,23),this,{enabled:this.enabled});for(var i=0;i<this.Hl.yearList.length;i++){this.yearControl.addItem(this.Hl.yearList[i]);}
this.yearControl.selectedIndexChanged=this.H67;this.closeButton=new HButton(new HRect(150,7,164,21),this,{label:'',enabled:this.enabled});this.closeButton.setMouseUp(true);this.closeButton.mouseUp=this.H68;var i,j,H7;var k=0;i=0;for(j=0;j<7-this.Hl.startDay;j++){Hy=this.Hl.hSpace*(j+1);HH=this.Hl.barHeight+
this.Hl.vSpace*(i);HU=Hy+this.Hl.hSpace;HY=HH+this.Hl.vSpace;H7=new HCalendarHeaderButton(new HRect(Hy,HH,HU,HY),this,{label:this.Hl.dayList[j+this.Hl.startDay],enabled:this.enabled});}
if(this.Hl.startDay==1){Hy=this.Hl.hSpace*(j+1);HH=this.Hl.barHeight+
this.Hl.vSpace*(i);HU=Hy+this.Hl.hSpace;HY=HH+this.Hl.vSpace;H7=new HCalendarHeaderButton(new HRect(Hy,HH,HU,HY),this,{label:this.Hl.dayList[0],enabled:this.enabled});}
Hy=0;HH=this.Hl.barHeight+
this.Hl.vSpace*(i);HU=Hy+this.Hl.hSpace;HY=HH+this.Hl.vSpace;H7=new HCalendarHeaderButton(new HRect(Hy,HH,HU,HY),this,{label:'',enabled:this.enabled});this.spot2=[];for(i=0;i<6;i++){Hy=0;HH=this.Hl.barHeight+
this.Hl.vSpace*(i+1);HU=Hy+this.Hl.hSpace;HY=HH+this.Hl.vSpace;H7=new HCalendarHeaderButton(new HRect(Hy,HH,HU,HY),this,{label:this.spotstr2[i],enabled:this.enabled});this.spot2[i]=H7;}
this.spot=[];for(i=0;i<6;i++){for(j=0;j<7;j++){Hy=this.Hl.hSpace*(j+1);HH=this.Hl.barHeight+
this.Hl.vSpace*(i+1);HU=Hy+this.Hl.hSpace;HY=HH+this.Hl.vSpace;H7=new HCalendarButton(new HRect(Hy,HH,HU,HY),this,{label:this.spotstr[k].day,enabled:this.enabled});H7.index=k;H7.setValue(this.spotstr[k].shade);this.spot[k]=H7;k++;}}
this.H3k();this.H3l();this.H0D=true;}},H68:function(H8,H9){this.parent.hide();this.base(H8,H9);},H66:function(){if(this.parent.updating2){return;}
this.parent.setDate(this.parent.year,this.selectedIndex(),this.parent.day);},H67:function(){if(this.parent.updating){return;}
this.parent.setDate(this.selectedItem().label,this.parent.month,this.parent.day);},H3l:function(){this.updating=true;for(var i=0;i<this.Hl.yearList.length;i++){if(this.Hl.yearList[i]==this.year){this.yearControl.selectItemAtIndex(i);break;}}
this.updating=false;},H3k:function(){this.updating2=true;this.monthControl.selectItemAtIndex(this.month);this.updating2=false;},H69:function(){for(var i=0;i<6;i++){this.spot2[i].setLabel(this.spotstr2[i]);}},H6a:function(){for(var i=0;i<42;i++){this.spot[i].setLabel(this.spotstr[i].day);this.spot[i].setValue(this.spotstr[i].shade);}},H2t:function(day,which){if(which==0){return{shade:2,day:day};}
if(which==1){return{shade:0,day:day};}
if(which==2){return{shade:1,day:day};}},setDate:function(Hr,Hz,Hu,H6b){if(Hr==this.year&&Hz==this.month&&Hu==this.day){return;}
if(!H6b){this.setValue(new Date(Hr,Hz,Hu));}
this.H3n(Hr,Hz,Hu);this.H6a();this.H69();this.H3k();this.H3l();},setValue:function(H2u){this.base(H2u);if(this.valueObj instanceof HDateValue&&!this.H4s){this.setDate(H2u.getFullYear(),H2u.getMonth(),H2u.getDate(),true);}},selectDay:function(i){if(i==this.todayspot){return;}
if(i<this.firstspot&&this.Hl.switchMonths){this.setDate(this.year,this.month-1,this.spotday[i]);}else if(i>=this.lastspot&&this.Hl.switchMonths){this.setDate(this.year,this.month+1,this.spotday[i]);}else{if(this.todayspot!=null){this.spotstr[this.todayspot]=this.H2t(this.spotday[this.todayspot],1);this.spot[this.todayspot].setValue(this.spotstr[this.todayspot].shade);}
this.todayspot=i;this.H3n(this.year,this.month,this.spotday[i]);this.spot[i].setValue(this.spotstr[i].shade);this.H3k();this.H3l();this.H4s=true;this.setValue(new Date(this.year,this.month,this.spotday[i]));this.H4s=false;}},H3n:function(Hr,Hz,Hu){var d=new Date();if(!Hz&&Hz!=0){Hz=d.getMonth();}
if(!Hu){Hu=d.getDate();}
if(!Hr){Hr=d.getFullYear();}
if(Hr<100){Hr+=1900;}
if(Hz<0){Hz=11;Hr-=1;}else if(Hz>11){Hz=0;Hr+=1;}
var l=new Date(Hr,Hz,1).getMonthLength();if(Hu>l||Hu<0){Hu=l;}
this.year=Hr;this.month=Hz;this.day=Hu;var date=new Date(this.year,this.month,this.day);date.setDate(1);var HZ=date.getDay()-this.Hl.startDay;if(HZ==-(this.Hl.startDay)||HZ==0){HZ+=7;}
this.spotstr2=new Array();var thisMonth_length=new Date(this.year,this.month,1).getMonthLength();var lastMonth=(this.month==0)?11:this.month-1;var lastMonth_length=new Date(this.year,lastMonth,1).getMonthLength();var calstart=lastMonth_length-HZ+1;var which,c;Hu=0;this.spotday=new Array();this.spotstr=new Array();for(var i=0;i<HZ;i++){if(i==0){var year1=(this.month==0)?this.year-1:this.year;this.spotstr2[0]=new Date(year1,lastMonth,calstart+i).getWeek();}
this.spotday[i]=calstart+i;this.spotstr[i]=this.H2t(this.spotday[i],0);}
this.firstspot=HZ;for(var i=HZ;i<thisMonth_length+HZ;i++){if(i==7){this.spotstr2[1]=new Date(this.year,this.month,i-HZ+1).getWeek();}else if(i==14){this.spotstr2[2]=new Date(this.year,this.month,i-HZ+1).getWeek();}else if(i==21){this.spotstr2[3]=new Date(this.year,this.month,i-HZ+1).getWeek();}else if(i==28){this.spotstr2[4]=new Date(this.year,this.month,i-HZ+1).getWeek();}
if(i==35){if(c<15){var year1=(this.month==11)?this.year+1:this.year;var month1=(this.month==11)?0:this.month+1;this.spotstr2[5]=new Date(year1,month1,i-HZ+1).getWeek();}else{this.spotstr2[5]=new Date(this.year,this.month,i-HZ+1).getWeek();}}
this.spotday[i]=i-HZ+1;if(this.spotday[i]==this.day&&this.Hl.selectToday){which=2;this.todayspot=i;}else{which=1;}
this.spotstr[i]=this.H2t(this.spotday[i],which);}
c=1;this.lastspot=thisMonth_length+HZ;for(var i=thisMonth_length+HZ;i<42;i++){if(i==35){if(c<15){var year1=(this.month==11)?this.year+1:this.year;var month1=(this.month==11)?0:this.month+1;this.spotstr2[5]=new Date(year1,month1,c).getWeek();}else{this.spotstr2[5]=new Date(this.year,this.month,c).getWeek();}}
this.spotday[i]=c++;this.spotstr[i]=this.H2t(this.spotday[i],0);}}});HCalendarHeaderButton=HControl.extend({packageName:"calendar",componentName:"calendarheaderbutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HCalendarHeaderButton]';this.H1a="calendarheaderbuttonlabel";this.setKeyDown(true);if(!this.isinherited){this.draw();}},keyDown:function(Hx){this.parent.keyDown(Hx);},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.refresh();},refresh:function(){if(this.drawn){if(!this.HG){this.HG=elem_bind(this.H1a+this.elemId);}
if(this.HG){elem_set(this.HG,this.label);}
this.drawRect();}}});
HColorValue=HValue.extend({constructor:function(H6,H3){this.validate(H3);this.base(H6,H3);this.type='[ColorValue]';},validate:function(H3){if(!H3 instanceof Array){throw('ColorValueError: ColorValue must be array');}
if(H3.length!=3){throw('ColorValueError: ColorValues need three parts');}},set:function(H3){if(H3==this.value){return;}
if(H3===undefined){throw('ColorValueError: Tried to set '+H3);}
this.validate(H3);var _rgbval=new Array(3);for(_colorPart=0;_colorPart<3;_colorPart++){var _colorVal=H3[_colorPart];if((_colorVal<0)||(_colorVal>255)){_rgbval[_colorPart]=this.value[_colorPart];}else{_rgbval[_colorPart]=_colorVal;}}
this.base(_rgbval);},getRed:function(){return this.value[0];},getGreen:function(){return this.value[1];},getBlue:function(){return this.value[2];},setRed:function(_redVal){this.set([Math.round(_redVal),-1,-1]);},setGreen:function(_grnVal){this.set([-1,Math.round(_grnVal),-1]);},setBlue:function(_bluVal){this.set([-1,-1,Math.round(_bluVal)]);},toRGBString:function(){return'rgb('+this.value[0]+', '+this.value[1]+', '+this.value[2]+')';},_initHexArr:function(){this._hexArr=new Array(256);var _hexStr=['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'];for(var _majorBit=0;_majorBit<16;_majorBit++){for(var _minorBit=0;_minorBit<16;_minorBit++){var _decVal=(_majorBit*16)+_minorBit;var _hexVal=_hexStr[_majorBit]+_hexStr[_minorBit];this._hexArr[_decVal]=_hexVal;}}},toHexString:function(_toLowerCase){if(!this._hexArr){this._initHexArr();}
var _redHex=this._hexArr[this.getRed()];var _grnHex=this._hexArr[this.getGreen()];var _bluHex=this._hexArr[this.getBlue()];var _hexString='#'+_redHex+_grnHex+_bluHex;if(_toLowerCase){_hexString=_hexString.toLowerCase();}
return _hexString;},toXML:function(HT){var H0t=this.id;var _syncRed=this.getRed();var _syncGrn=this.getGreen();var _syncBlu=this.getBlue();var _syncHex=this.toHexString();return'<color id="'+H0t+'" order="'+HT+'" hexvalue="'+_syncHex+'"><red>'+_syncRed+'</red><green>'+_syncGrn+'</green><blue>'+_syncBlu+'</blue></color>';}});HColorView=HControl.extend({componentName:"colorview",constructor:function(H0,H4,H1){if(!H1){H1={};}
if(!H1.events){H1.events={mouseDown:true}}
if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HColorView]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},draw:function(){this.drawRect();if(!this.drawn){this.drawMarkup();this.drawn=true;}},mouseDown:function(H8,H9,_rightButton){if(this.action){this.action(this.valueObj);}},setValue:function(_colorArr){this.base(_colorArr);if(this.valueObj instanceof HColorValue){this.setStyle('background-color',this.valueObj.toHexString());}}});HColorSwatchItem=HColorView;HColorValueMixer=Base.extend({constructor:function(_target,_red,_grn,_blu){this.target=_target;if((typeof _red=='number')&&(typeof _grn=='number')&&(typeof _blu=='number')){this.mixRed=_red;this.mixGrn=_grn;this.mixBlu=_blu;}else{throw("HColorValueMixerConstructorError: The mixable color parts have to be numerics, usually floating point values in the range 0.0 - 1.0.");}},setValue:function(H3){var _valueInt=Math.round(H3);if(this.target.valueObj instanceof HColorValue){var _colorValueObj=this.target.valueObj;}else{return}
if(this.mixRed){_colorValueObj.setRed(_valueInt*this.mixRed);}
if(this.mixGrn){_colorValueObj.setGreen(_valueInt*this.mixGrn);}
if(this.mixBlu){_colorValueObj.setBlue(_valueInt*this.mixBlu);}
this.valueObj.set(_valueInt);},setValueObj:function(H1b){this.valueObj=H1b;this.setValue(H1b.value);}});
HProgressBar=HControl.extend({packageName:"progress",componentName:"progressbar",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
if(!H1){H1={};}
var HJ=Base.extend({value:0,minValue:0,maxValue:100});HJ=HJ.extend(H1);H1=new HJ();this.value=H1.value;this.minValue=H1.minValue;this.maxValue=H1.maxValue;this.visibleWidth=this.rect.width-2;this.type='[HProgressBar]';this._progressbarPrefix='label';if(!this.isinherited){this.draw();}},setValue:function(H3){this.base(H3);if(this.progressbarElemId){this.drawProgress();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._initProgress();}},_initProgress:function(){this.progressbarElemId=this.bindDomElement(this._progressbarPrefix+this.elemId);this.drawProgress();},H39:function(){var H3b=this.visibleWidth*((this.value-this.minValue)/(this.maxValue-this.minValue));var H3d=parseInt(Math.round(H3b))+'px';return H3d;},drawProgress:function(){if(this.progressbarElemId){var H3c=this.H39();prop_set(this.progressbarElemId,'width',H3c);}}});HProgressIndicator=HControl.extend({packageName:"progress",componentName:"progressindicator",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
if(!H1){H1={};}
var HJ=Base.extend({value:0,interval:20});HJ=HJ.extend(H1);H1=new HJ();this.type='[HProgressIndicator]';this._progressbarPrefix='progressmark';this.interval=H1.interval;this.value=H1.value;this._counter=null;if(!this.isinherited){this.draw();}},setValue:function(H3){if(this._progressbarElemId){if(H3==true&&!this._counter){var temp=this;this._counter=setInterval(function(){temp.drawProgress();},temp.interval);}
else{clearInterval(this._counter);this._counter=null;}}},die:function(){this.base();if(this._counter){clearInterval(this._counter);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this._initProgress();}},_initProgress:function(){this._progressbarElemId=this.bindDomElement(this._progressbarPrefix+this.elemId);this.drawProgress();},drawProgress:function(){this.progressPosition++;if(this.progressPosition>this.positionLimit-1){this.progressPosition=0;}
if(this._progressbarElemId){prop_set(this._progressbarElemId,'background-position','0px -'+
(this.progressPosition*this.rect.height)+'px');}}});
HTextControl=HControl.extend({componentName:"textcontrol",constructor:function(H0,H4,H1){this.H2Q="textcontrol";if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HTextControl]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},die:function(){if(this.drawn){var H0i=this.H2Q+this.elemId;Event.stopObserving(H0i,'mousedown',this.H2d);Event.stopObserving(H0i,'mousemove',this.H2d);Event.stopObserving(H0i,'focus',this.H3T);Event.stopObserving(H0i,'blur',this.H3U);}
this.base();},setEnabled:function(Hh){this.base(Hh);if(this.H0o){elem_get(this.H0o).disabled=(!this.enabled);}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.H0o=this.bindDomElement(this.H2Q+this.elemId);if(this.H0o){elem_get(this.H0o).setAttribute("autocomplete","off");this.setEnabled(this.enabled);}
this.H5q();this.drawn=true;}
this.refresh();},H5q:function(){var H0i=this.H2Q+this.elemId;this.H2d=function(_event){HControl.stopPropagation(_event);};Event.observe(H0i,'mousedown',this.H2d,false);Event.observe(H0i,'mousemove',this.H2d,false);var Hw=this;this.H3T=function(event){HEventManager.changeActiveControl(Hw);};Event.observe(H0i,'focus',this.H3T,false);this.H3U=function(event){Hw.H3V();HEventManager.changeActiveControl(null);};Event.observe(H0i,'blur',this.H3U,false);},refresh:function(){this.base();if(this.H0o){if(elem_get(this.H0o).value!=this.value){elem_get(this.H0o).value=this.value;}}},onIdle:function(){if(this.active){this.H3V();}},H3V:function(){if(this.drawn){if(elem_get(this.H0o).value!=this.value){this.setValue(elem_get(this.H0o).value);}}},lostActiveStatus:function(HE){if(this.H0o){elem_get(this.H0o).blur();}}});HTextArea=HTextControl.extend({componentName:"textarea",constructor:function(H0,H4,H1){this.base(H0,H4,H1);}});HPasswordControl=HTextControl.extend({componentName:"passwordcontrol",constructor:function(H0,H4,H1){this.base(H0,H4,H1);}});
HTextEdit=Base.extend({constructor:null,execCommand:function(H2M,H0P,H3,_doc){_doc=_doc||document;var H0g=H2M.toLowerCase();if((H0g=="hilitecolor"||H0g=="inserthtml")&&is.ie){return;}
if((H0g=="backcolor"||H0g=="forecolor"||H0g=="hilitecolor")&&H0P==true){}else if(H0g=="copy"&&!is.ns&&!is.opera){_doc.execCommand(H2M,H0P,H3);}else if(H0g=="createlink"&&H0P==true){}else if(H0g=="fontsize"){if(is.safari){switch(parseInt(H3)){case 1:H3="x-small";break;case 2:H3="small";break;case 3:H3="medium";break;case 4:H3="large";break;case 5:H3="x-large";break;case 6:H3="xx-large";break;case 7:H3="48px";break;}}
_doc.execCommand(H2M,H0P,H3);}else if(H0g=="formatblock"&&H0P==true){}else if(H0g=="inserthtml"&&H0P==true){}else if(H0g=="insertimage"&&H0P==true){}else if(is.safari&&H0g=="createlink"){if(this._execCreateLink){this._execCreateLink(H3);}}else{_doc.execCommand(H2M,H0P,H3);}},enableSelectionListeners:function(){var obj=this;if(!this.H2N){if(is.ie){document.attachEvent("onkeydown",function(e){obj.H0O(e);});document.attachEvent("onkeyup",function(e){obj.H0O(e);});document.attachEvent("onmouseup",function(e){obj.H0O(e);});}else{document.addEventListener("keydown",function(e){obj.H0O(e);},false);document.addEventListener("keyup",function(e){obj.H0O(e);},false);document.addEventListener("mouseup",function(e){obj.H0O(e);},false);}
this.H2N=true;}},saveSelection:function(){if(is.ie){this.HA.range=this.Hj.range;}else{this.HA.anchorNode=this.Hj.anchorNode;this.HA.anchorOffset=this.Hj.anchorOffset;this.HA.focusNode=this.Hj.focusNode;this.HA.focusOffset=this.Hj.focusOffset;this.HA.isCollapsed=this.Hj.isCollapsed;if(is.safari){this.HA.baseNode=this.Hj.baseNode;this.HA.baseOffset=this.Hj.baseOffset;this.HA.extentNode=this.Hj.extentNode;this.HA.extentOffset=this.Hj.extentOffset;}else{this.HA.range=this.Hj.range;}}},loadSelection:function(_window){var _window=_window||window;if(is.ie){this.HA.range.select();}else{var Hj=_window.getSelection();if(is.ns||is.opera){if(Hj.rangeCount>0){Hj.removeAllRanges();}
if(is.opera){var H2=this.HA.anchorNode;do{if(H2.nodeType==1&&H2.getAttribute("contentEditable")=="true"){H2.setAttribute("contentEditable","false");H2.setAttribute("contentEditable","true")}
H2=H2.parentNode;}while(H2);}
var H5m=document.createRange();H5m.setStart(this.HA.anchorNode,this.HA.anchorOffset);Hj.addRange(H5m);if(this.HA.isCollapsed==false){Hj.extend(this.HA.focusNode,this.HA.focusOffset);}}else if(is.safari){Hj.empty();Hj.setBaseAndExtent(this.HA.baseNode,this.HA.baseOffset,this.HA.extentNode,this.HA.extentOffset);}}},populateSelection:function(e,_window){var _window=_window||window;if(is.ie){var Hj=_window.document.selection;if(Hj.type.toLowerCase()!="control"){var H6J=Hj.createRange();this.Hj.range=H6J;}}else{var Hj=_window.getSelection();this.Hj.anchorNode=Hj.anchorNode;this.Hj.anchorOffset=Hj.anchorOffset;this.Hj.focusNode=Hj.focusNode;this.Hj.focusOffset=Hj.focusOffset;this.Hj.isCollapsed=Hj.isCollapsed;if(is.safari){this.Hj.baseNode=Hj.baseNode;this.Hj.baseOffset=Hj.baseOffset;this.Hj.extentNode=Hj.extentNode;this.Hj.extentOffset=Hj.extentOffset;}else{this.Hj.range=Hj.getRangeAt(0);}}
if(!this.Hb){this.Hb=0;}
if(e){if(e.type=="keydown"||e.type=="keyup"){this.saveSelection();}}},H0O:function(e){if(is.ie){this.populateSelection(e);}else{var Hj=window.getSelection();if(Hj.rangeCount>0){this.populateSelection(e);}else if(is.safari){this.populateSelection(e);}}},Hj:{anchorNode:null,anchorOffset:-1,focusNode:null,focusOffset:-1,isCollapsed:undefined},HA:{anchorNode:null,anchorOffset:-1,focusNode:null,focusOffset:-1,isCollapsed:undefined},H2N:false});HStyleButton=HImageButton.extend({packageName:"richtext",componentName:"stylebutton",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HStyleButton]';this.preserveTheme=true;if(!this.isinherited){this.draw();}},mouseUp:function(){if(this.styleButtonDefaults.richtextview){HTextEdit.execCommand(this.styleButtonDefaults.command,false,null,this.styleButtonDefaults.richtextview.iframe().contentWindow.document);}
this.base();}},{H2v:"imageview"});HRichTextView=HControl.extend({packageName:"richtext",componentName:"richtextview",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HRichTextView]';this.preserveTheme=true;this.H2j=false;this.H48=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.drawRect();this.drawMarkup();this.drawn=true;}
this.base();},onIdle:function(){if(this.drawn){var H0w=elem_get(this.markupElemIds.control);if(!this.H2j&&H0w.contentWindow&&H0w.contentWindow.document){H0w.contentWindow.document.designMode="on";this.H2j=true;}
if(this.H2j&&H0w.contentWindow.document.body){if(!this.H48){H0w.contentWindow.document.body.innerHTML=this.value;this.H48=true;}
var H13=H0w.contentWindow.document.body.innerHTML;if(this.value!=H13){this.H49=true;this.setValue(H13);this.H49=false;}}}},setValue:function(H3){if(!this.H49){if(this.H2j){var H0w=elem_get(this.markupElemIds.control);if(H0w.contentWindow.document.body){H0w.contentWindow.document.body.innerHTML=H3;}}}
this.base(H3);},iframe:function(){return elem_get(this.markupElemIds.control);}});HRichTextControl=HControl.extend({packageName:"richtext",componentName:"richtextcontrol",constructor:function(H0,H4,H1){if(this.isinherited){this.base(H0,H4,H1);}
else{this.isinherited=true;this.base(H0,H4,H1);this.isinherited=false;}
this.type='[HRichTextControl]';this.preserveTheme=true;this.H0D=false;if(!this.isinherited){this.draw();}},draw:function(){if(!this.drawn){this.base();this.drawRect();this.drawMarkup();if(!this.H0D){this.barView=new HRichTextBar(new HRect(0,0,this.rect.width,20),this,{value:this.value});this.barView.draw();this.richTextView=new HRichTextView(new HRect(0,20,this.rect.width,this.rect.height),this,{value:(this.value||"editable text")});this.richTextView.draw();}
this.drawn=true;}
this.drawRect();}});HRichTextArea=HRichTextControl;HRichTextEditor=HRichTextControl;