
ReloadApp=HApplication.extend({reload:function(){var _y=this._y;if((!_y)||(_y==='/')){window.location.reload(true);}
else{window.location.href=_y;}},reset_session:function(){COMM.request(HCLIENT_HELLO+'/goodbye',{method:'POST',body:('ses_key='+COMM.Session.ses_key),async:true,onSuccess:function(){window.location.reload(true);},onFailure:function(){window.location.reload(true);}});},constructor:function(_I2,_J3,_y){var _0=this;_0.base();_0._I2=_I2;_0._J3=_J3;_0._y=_y;var _03=ELEM.windowSize()[0],_13=ELEM.windowSize()[1],_ob=parseInt(_03/2,10),_rb=parseInt(_13/2,10),_ba=400,_ea=300,_I8=_ob-200,_H8=_rb-150;if(_I8<10){_I8=10;}
if(_H8<10){_H8=10;}
HWindow.extend({drawSubviews:function(){var _0=this,_6=_0.markupElemIds['subview'],_lb=ELEM.make(_6),_Ja=ELEM.make(_6),_Oa=ELEM.make(_6),_bb=_0.getThemeGfxFile('reloadapp_warning.png');_0.setStyle('font-family','Arial, sans-serif');_0.setStyle('color','#000');_0.setStyle('font-size','13px');ELEM.setCSS(_lb,'position:absolute;left:8px;top:8px;width:48px;height:48px;background-image:url('+_bb+');');ELEM.setCSS(_Ja,'position:absolute;left:64px;top:8px;width:300px;height:24px;line-height:24px;vertical-align:middle;text-align:center;font-weight:bold;overflow:hidden;text-overflow:ellipsis;line-wrap:nowrap;');ELEM.setHTML(_Ja,_0.app._I2);ELEM.setCSS(_Oa,'position:absolute;left:64px;top:42px;width:332px;height:186px;border-bottom:1px dotted #999;line-height:17px;vertical-align:middle;overflow:auto;');ELEM.setHTML(_Oa,_0.app._J3);HButton.extend({click:this.app.reload}).nu(HRect.nu(280,234,380,258),_0,{label:'Reload',events:{click:true}});HButton.extend({click:this.app.reset_session}).nu(HRect.nu(20,234,170,258),_0,{label:'Reset session',events:{click:true}});}}).nu(HRect.nu(_I8,_H8,_I8+_ba,_H8+_ea),_0,{label:_I2,minSize:[_ba,_ea],maxSize:[_ba,_ea],enabled:true,closeButton:true,noResize:true});COMM.Transporter.stop=true;},onIdle:function(){if(this['_Xa']){HSystem.windowFocus(this._Xa);}}});