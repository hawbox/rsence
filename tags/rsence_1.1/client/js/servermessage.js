
ReloadApp=HApplication.extend({reload:function(){var _w=this._w;if((!_w)||(_w==='/')){window.location.reload(true);}
else{window.location.href=_w;}},reset_session:function(){COMM.request(HCLIENT_HELLO+'/goodbye',{method:'POST',body:('ses_key='+COMM.Session.ses_key),async:true,onSuccess:function(){window.location.reload(true);},onFailure:function(){window.location.reload(true);}});},constructor:function(_J1,_S3,_w){var _0=this;_0.base();_0._J1=_J1;_0._S3=_S3;_0._w=_w;var _y9=ELEM.windowSize()[0],_z9=ELEM.windowSize()[1],_h9=parseInt(_y9/2,10),_j9=parseInt(_z9/2,10),_s7=400,_x7=300,_l7=_h9-200,_m7=_j9-150;if(_l7<10){_l7=10;}
if(_m7<10){_m7=10;}
HWindow.extend({drawSubviews:function(){var _0=this,_6=_0.markupElemIds['subview'],_d9=ELEM.make(_6),_89=ELEM.make(_6),_V8=ELEM.make(_6),_l9=_0.getThemeGfxFile('reloadapp_warning.png');_0.setStyle('font-family','Arial, sans-serif');_0.setStyle('color','#000');_0.setStyle('font-size','13px');ELEM.setCSS(_d9,'position:absolute;left:8px;top:8px;width:48px;height:48px;background-image:url('+_l9+');');ELEM.setCSS(_89,'position:absolute;left:64px;top:8px;width:300px;height:24px;line-height:24px;vertical-align:middle;text-align:center;font-weight:bold;overflow:hidden;text-overflow:ellipsis;line-wrap:nowrap;');ELEM.setHTML(_89,_0.app._J1);ELEM.setCSS(_V8,'position:absolute;left:64px;top:42px;width:332px;height:186px;border-bottom:1px dotted #999;line-height:17px;vertical-align:middle;overflow:auto;');ELEM.setHTML(_V8,_0.app._S3);HButton.extend({click:this.app.reload}).nu(HRect.nu(280,234,380,258),_0,{label:'Reload',events:{click:true}});HButton.extend({click:this.app.reset_session}).nu(HRect.nu(20,234,170,258),_0,{label:'Reset session',events:{click:true}});}}).nu(HRect.nu(_l7,_m7,_l7+_s7,_m7+_x7),_0,{label:_J1,minSize:[_s7,_x7],maxSize:[_s7,_x7],enabled:true,closeButton:true,noResize:true});COMM.Transporter.stop=true;},onIdle:function(){if(this._b9){HSystem.windowFocus(this._b9);}}});